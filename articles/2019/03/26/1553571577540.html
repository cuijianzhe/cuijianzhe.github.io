<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>搭建docker之路-初识（1） - 邯城往事</title><meta name="description" content="一、 安装 docker 环境 1.1 安装 [root@host ~]# yum install -y docker 查看信息： [root@bogon ~]# systemctl start docker [root@bogon ~]# systemctl enable docker Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service. [root@bogon ~]# docker version Client: Version: 1.13.1 API version: 1.26 Package version: docker-1.13.1-94.gitb2f74b2.el7.centos.x86_64 Go version: go1.10.3 Git commit: b2f74b2/1.13.1 Built: Tue Mar 12 10:27:24 2019 OS/Arch: l...."/><meta property="og:description" content="一、 安装 docker 环境 1.1 安装 [root@host ~]# yum install -y docker 查看信息： [root@bogon ~]# systemctl start docker [root@bogon ~]# systemctl enable docker Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service. [root@bogon ~]# docker version Client: Version: 1.13.1 API version: 1.26 Package version: docker-1.13.1-94.gitb2f74b2.el7.centos.x86_64 Go version: go1.10.3 Git commit: b2f74b2/1.13.1 Built: Tue Mar 12 10:27:24 2019 OS/Arch: l...."/>    <meta name="keywords" content="Solo,Java,博客,开源"/><link rel="dns-prefetch" href="https://cuijianzhe.github.io"/><link rel="dns-prefetch" href="https://unpkg.com"/><link rel="preconnect" href="https://cuijianzhe.github.io"><link rel="icon" type="image/png" href="https://b3logfile.com/avatar/1551626533851_1558961734838.jpeg"/><link rel="apple-touch-icon" href="https://b3logfile.com/avatar/1551626533851_1558961734838.jpeg"><link rel="shortcut icon" type="image/x-icon" href="https://b3logfile.com/avatar/1551626533851_1558961734838.jpeg"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="搭建docker之路-初识（1） - 邯城往事"/><meta property="og:site_name" content="邯城往事"/><meta property="og:url"      content="https://cuijianzhe.github.io/articles/2019/03/26/1553571577540.html?"/><meta property="og:image" content="https://b3logfile.com/avatar/1551626533851_1558961734838.jpeg"/><link rel="search" type="application/opensearchdescription+xml" title="搭建docker之路-初识（1） - 邯城往事" href="/opensearch.xml"><link href="https://cuijianzhe.github.io/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://cuijianzhe.github.io/manifest.json">        <link rel="canonical" href="https://cuijianzhe.github.io/articles/2019/03/26/1553571577540.html">        <link rel="stylesheet"
              href="https://cuijianzhe.github.io/skins/Pinghsu/css/base.css?1701918811548"/>
            <link rel="prev" title="uniq、sort命令理解" href="https://cuijianzhe.github.io/articles/2019/03/23/1553311254119.html">
            <link rel="next" title="docker容器命名和资源配额控制(2)" href="https://cuijianzhe.github.io/articles/2019/03/27/1553650586883.html">
    <script src="https://unpkg.com/vditor@3.8.15/dist/js/icons/ant.js" async="" id="vditorIconScript"></script></head>
<body>
<header class="header">
    <div class="wrapper">
        <a href="https://cuijianzhe.github.io" rel="start" class="header__logo">
            <img src="https://b3logfile.com/avatar/1551626533851_1560155807399.gif?imageView2/1/w/128/h/128/interlace/0/q/100" alt="邯城往事"/>
            邯城往事
        </a>

        <nav class="header__nav mobile__none">
            <a href="https://cuijianzhe.github.io/tags.html" rel="section">
                Tags
            </a>
            <a href="https://cuijianzhe.github.io/archives.html">
                Archives
            </a>
            <a rel="archive" href="https://cuijianzhe.github.io/links.html">
                Links
            </a>
        </nav>

        <div class="header__bar fn__none" onclick="$(this).next().slideToggle()">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                <path fill="#444" d="M0 3h20v2h-20v-2zM0 9h20v2h-20v-2zM0 15h20v2h-20v-2z"></path>
            </svg>
        </div>
        <main class="header__menu fn__none">
            <ul>
                    <li>
                        <a href="/my-github-repos" target="_self" rel="section">
                            我的开源
                        </a>
                    </li>
                    <li>
                        <a href="http://times.cjzshilong.cn/time/" target="_blank" rel="section">
                            服务器倒计时
                        </a>
                    </li>
                <li>
                    <a href="https://cuijianzhe.github.io/tags.html" rel="section">
                        Tags
                    </a>
                </li>
                <li>
                    <a href="https://cuijianzhe.github.io/archives.html">
                        Archives
                    </a>
                </li>
                <li>
                    <a rel="archive" href="https://cuijianzhe.github.io/links.html">
                        Links
                    </a>
                </li>
                <li>
                    <a rel="alternate" href="https://cuijianzhe.github.io/rss.xml" rel="section">
                        RSS
                    </a>
                </li>
            </ul>
        </main>
    </div>
</header>
<main id="pjax" class="fn__flex-1">
    
    <div class="post wrapper wrapper--miner">
        <h2 class="item__title">
            <a rel="bookmark" href="https://cuijianzhe.github.io/articles/2019/03/26/1553571577540.html">
                搭建docker之路-初识（1）
            </a>
        </h2>
        <div class="ft__fade item__meta">
                Published on
            <time>
                Mar 26, 2019
            </time>
            with <span data-uvstaturl="https://cuijianzhe.github.io/articles/2019/03/26/1553571577540.html">0</span> views
                and <a href="#b3logsolocomments"><span data-uvstatcmt="1553571577125">0</span> comments</a>
        </div>
        <div class="item__tags">
                <a rel="tag" class="tag tag--0" href="https://cuijianzhe.github.io/tags/Linux">
                    <b># Linux</b>
                </a>
        </div>
        <div class="vditor-reset">
            <h1 id="一--安装docker环境">一、 安装 docker 环境</h1>
<h2 id="1-1-安装">1.1 安装</h2>
<p class="indent--2"><code>[root@host ~]# yum install -y docker</code><br>
查看信息：</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# systemctl start docker 
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# systemctl enable  docker 
</span></span><span class="highlight-line"><span class="highlight-cl">Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker version 
</span></span><span class="highlight-line"><span class="highlight-cl">Client:
</span></span><span class="highlight-line"><span class="highlight-cl"> Version:         1.13.1
</span></span><span class="highlight-line"><span class="highlight-cl"> API version:     1.26
</span></span><span class="highlight-line"><span class="highlight-cl"> Package version: docker-1.13.1-94.gitb2f74b2.el7.centos.x86_64
</span></span><span class="highlight-line"><span class="highlight-cl"> Go version:      go1.10.3
</span></span><span class="highlight-line"><span class="highlight-cl"> Git commit:      b2f74b2/1.13.1
</span></span><span class="highlight-line"><span class="highlight-cl"> Built:           Tue Mar 12 10:27:24 2019
</span></span><span class="highlight-line"><span class="highlight-cl"> OS/Arch:         linux/amd64
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">Server:
</span></span><span class="highlight-line"><span class="highlight-cl"> Version:         1.13.1
</span></span><span class="highlight-line"><span class="highlight-cl"> API version:     1.26 (minimum version 1.12)
</span></span><span class="highlight-line"><span class="highlight-cl"> Package version: docker-1.13.1-94.gitb2f74b2.el7.centos.x86_64
</span></span><span class="highlight-line"><span class="highlight-cl"> Go version:      go1.10.3
</span></span><span class="highlight-line"><span class="highlight-cl"> Git commit:      b2f74b2/1.13.1
</span></span><span class="highlight-line"><span class="highlight-cl"> Built:           Tue Mar 12 10:27:24 2019
</span></span><span class="highlight-line"><span class="highlight-cl"> OS/Arch:         linux/amd64
</span></span><span class="highlight-line"><span class="highlight-cl"> Experimental:    false
</span></span></code></pre>
<h2 id="1-2-下载docker镜像">1.2 下载 docker 镜像</h2>
<p class="indent--2"><img src="https://b3logfile.com/file/2019/03/dockerliucheng-1ea22883.jpg?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="dockerliucheng.jpg"></p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker search centos  //从dockerHub中查找符合条件的镜像
</span></span><span class="highlight-line"><span class="highlight-cl">INDEX       NAME                                         DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/centos                             The official build of CentOS.                   5270      [OK]       
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/ansible/centos7-ansible            Ansible on Centos7                              121                  [OK]
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/jdeathe/centos-ssh                 CentOS-6 6.10 x86_64 / CentOS-7 7.5.1804 x...   108                  [OK]
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/consol/centos-xfce-vnc             Centos container with "headless" VNC sessi...   83                   [OK]
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/imagine10255/centos6-lnmp-php56    centos6-lnmp-php56                              52                   [OK]
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/centos/mysql-57-centos7            MySQL 5.7 SQL database server                   49                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/tutum/centos                       Simple CentOS docker image with SSH access      44                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/gluster/gluster-centos             Official GlusterFS Image [ CentOS-7 +  Glu...   40                   [OK]
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/openshift/base-centos7             A Centos7 derived base image for Source-To...   40                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/centos/postgresql-96-centos7       PostgreSQL is an advanced Object-Relationa...   37                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/centos/python-35-centos7           Platform for building and running Python 3...   34                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/kinogmt/centos-ssh                 CentOS with SSH                                 26                   [OK]
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/centos/httpd-24-centos7            Platform for running Apache httpd 2.4 or b...   22                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/centos/php-56-centos7              Platform for building and running PHP 5.6 ...   20                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/openshift/jenkins-2-centos7        A Centos7 based Jenkins v2.x image for use...   20                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/pivotaldata/centos-gpdb-dev        CentOS image for GPDB development. Tag nam...   10                   
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/openshift/wildfly-101-centos7      A Centos7 based WildFly v10.1 image for us...   6                    
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/openshift/jenkins-1-centos7        DEPRECATED: A Centos7 based Jenkins v1.x i...   4                    
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/darksheer/centos                   Base Centos Image -- Updated hourly             3                    [OK]
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/pivotaldata/centos                 Base centos, freshened up a little with a ...   3                    
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/pivotaldata/centos-mingw           Using the mingw toolchain to cross-compile...   2                    
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/blacklabelops/centos               CentOS Base Image! Built and Updates Daily!     1                    [OK]
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/openshift/wildfly-81-centos7       A Centos7 based WildFly v8.1 image for use...   1                    
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/pivotaldata/centos-gcc-toolchain   CentOS with a toolchain, but unaffiliated ...   1                    
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io   docker.io/smartentry/centos                  centos with smartentry                          0
</span></span></code></pre>
<p class="indent--2"><strong>从公网 dockerhub 上拉取镜像 image</strong></p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@host ~]# docker pull docker.io/centos
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">Using default tag: latest
</span></span><span class="highlight-line"><span class="highlight-cl">Trying to pull repository docker.io/library/centos ... 
</span></span><span class="highlight-line"><span class="highlight-cl">latest: Pulling from docker.io/library/centos
</span></span><span class="highlight-line"><span class="highlight-cl">8ba884070f61: Pull complete 
</span></span><span class="highlight-line"><span class="highlight-cl">Digest: sha256:8d487d68857f5bc9595793279b33d082b03713341ddec91054382641d14db861
</span></span><span class="highlight-line"><span class="highlight-cl">Status: Downloaded newer image for docker.io/centos:latest
</span></span></code></pre>
<p class="indent--2">开启 NAT 转发功能</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@host ~]# vim /etc/sysctl.conf
</span></span><span class="highlight-line"><span class="highlight-cl">net.ipv4.ip_forward = 1
</span></span><span class="highlight-line"><span class="highlight-cl">//执行sysctl -p生效
</span></span><span class="highlight-line"><span class="highlight-cl">[root@host ~]# sysctl -p
</span></span><span class="highlight-line"><span class="highlight-cl">net.ipv4.ip_forward = 1
</span></span><span class="highlight-line"><span class="highlight-cl">[root@host ~]# systemctl restart docker
</span></span><span class="highlight-line"><span class="highlight-cl">[root@host ~]# docker images
</span></span><span class="highlight-line"><span class="highlight-cl">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    latest              9f38484d220f        11 days ago         202 MB
</span></span></code></pre>
<h2 id="1-3实际应用-">1.3 实际应用：</h2>
<h3 id="例1-运行一个--container--并加载镜像-centos-运行起来这个实例后-在实例中执行--bin-bash-命令">例 1：运行一个  container  并加载镜像 CentOS，运行起来这个实例后，在实例中执行 /bin/bash 命令</h3>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@host ~]# docker run -it docker.io/centos:latest /bin/bash    ##启动一个实例
</span></span><span class="highlight-line"><span class="highlight-cl">[root@ff20a65c5b95 /]# ls
</span></span><span class="highlight-line"><span class="highlight-cl">anaconda-post.log  bin  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</span></span><span class="highlight-line"><span class="highlight-cl">[root@ff20a65c5b95 /]# cat /etc/redhat-release
</span></span><span class="highlight-line"><span class="highlight-cl">CentOS Linux release 7.6.1810 (Core) 
</span></span><span class="highlight-line"><span class="highlight-cl">[root@ff20a65c5b95 /]# exit
</span></span><span class="highlight-line"><span class="highlight-cl">exit
</span></span><span class="highlight-line"><span class="highlight-cl">[root@host ~]#
</span></span></code></pre>
<p class="indent--2">docker 常用参数：<br>
run 运行<br>
-i 以交互模式运行容器，通常不 -t  同时使用；<br>
-t 为容器重新分配一个伪输入终端，通常和 -i 同时使用；</p>
<h3 id="例2-在-container-中启动一个长久运行的进程-不断向-stdin-输出--hello-world---模拟一个后台运行的服务">例 2：在 container 中启动一个长久运行的进程，不断向 stdin 输出  hello world  。模拟一个后台运行的服务</h3>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker run -d docker.io/centos:latest /bin/sh -c  "while  true;do echo hello world; sleep 1; done"
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">6246ea4f21efb67018894fa78940210236e05d2e2953f942e5666488015b0f31
</span></span><span class="highlight-line"><span class="highlight-cl">  //容器的ID
</span></span></code></pre>
<h3 id="例3-从一个容器中取日志-查看输出的内容-可用于后期检查-docker-实例在标准输出中弹出的错误信息或正常的信息-">例 3：从一个容器中取日志，查看输出的内容，可用于后期检查 docker 实例在标准输出中弹出的错误信息或正常的信息。</h3>
<p class="indent--2">语法：  docker logs  容器实例的  Name/ID</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker logs 6246ea4f21efb67018894fa78940210236e05d2e2953f942e5666488015b0f31
</span></span><span class="highlight-line"><span class="highlight-cl">hello world
</span></span><span class="highlight-line"><span class="highlight-cl">hello world
</span></span><span class="highlight-line"><span class="highlight-cl">hello world
</span></span><span class="highlight-line"><span class="highlight-cl">hello world
</span></span><span class="highlight-line"><span class="highlight-cl">hello world
</span></span><span class="highlight-line"><span class="highlight-cl">hello world
</span></span><span class="highlight-line"><span class="highlight-cl">hello world
</span></span><span class="highlight-line"><span class="highlight-cl">hello world
</span></span></code></pre>
<p class="indent--2">查看正在运行的容器</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker ps
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS              PORTS               NAMES
</span></span><span class="highlight-line"><span class="highlight-cl">6246ea4f21ef        docker.io/centos:latest   "/bin/sh -c 'while..."   2 minutes ago       Up 2 minutes                            compassionate_hugle
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]#  docker ps -a     #-a 列出所有容器（包含沉睡/退出状态的容器）； 
</span></span><span class="highlight-line"><span class="highlight-cl">CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS                   PORTS               NAMES
</span></span><span class="highlight-line"><span class="highlight-cl">6246ea4f21ef        docker.io/centos:latest   "/bin/sh -c 'while..."   3 minutes ago       Up 3 minutes                                 compassionate_hugle
</span></span><span class="highlight-line"><span class="highlight-cl">ff20a65c5b95        docker.io/centos:latest   "/bin/bash"              3 hours ago         Exited (0) 3 hours ago                       serene_yalow
</span></span></code></pre>
<p class="indent--2">杀死一个容器</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker kill 6246ea4f21ef
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">6246ea4f21ef
</span></span></code></pre>
<h3 id="例4-启动-停止-重启-container-容器实例">例 4：启动、停止、重启 container 容器实例</h3>
<p class="indent--2">启动： run # 创建并运行 docker 实例</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker run -d docker.io/centos:latest /bin/sh -c  "while  true;do echo hello world; sleep 1; done"
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">f639c4a00e22734e9c4faecd1480d01333c6049599d7e851342aa588e3e2926a
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# 
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker ps
</span></span><span class="highlight-line"><span class="highlight-cl">CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS              PORTS               NAMES
</span></span><span class="highlight-line"><span class="highlight-cl">f639c4a00e22        docker.io/centos:latest   "/bin/sh -c 'while..."   7 seconds ago       Up 6 seconds                            infallible_lewin
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker stop f639c4a00e22
</span></span><span class="highlight-line"><span class="highlight-cl">f639c4a00e22
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker ps
</span></span><span class="highlight-line"><span class="highlight-cl">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]#
</span></span></code></pre>
<h3 id="例5-删除指定-container---rm">例 5：删除指定 container ： rm</h3>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker rm f639c4a00e22
</span></span><span class="highlight-line"><span class="highlight-cl">f639c4a00e22
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker ps
</span></span><span class="highlight-line"><span class="highlight-cl">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS
</span></span></code></pre>
<h1 id="二-docker镜像制作的方法-">二、docker 镜像制作的方法：</h1>
<p class="indent--2">Docker Image 的制作两种方法</p>
<p class="indent--2">方法 1：docker commit	#保存 container 的当前状态到 image 后，然后生成对应的 image<br>
方法 2：docker build #使用 Dockerfile 文件自动化制作 image</p>
<h2 id="2-1-创建一个安装好-apache-web-服务器的容器镜像">2.1 创建一个安装好 apache Web 服务器的容器镜像</h2>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker run -it docker.io/centos:latest /bin/bash
</span></span><span class="highlight-line"><span class="highlight-cl">[root@692713fffabb /]# yum install -y httpd 
</span></span><span class="highlight-line"><span class="highlight-cl"> #根据容器弼前状态做一个 image 镜像：创建一个安装了 apache 工具的 centos 镜像语法： docker commit &lt;container 的 ID&gt;或&lt;image_name&gt;
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker ps -a
</span></span><span class="highlight-line"><span class="highlight-cl">CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS                        PORTS               NAMES
</span></span><span class="highlight-line"><span class="highlight-cl">692713fffabb        docker.io/centos:latest   "/bin/bash"              14 minutes ago      Exited (0) 2 minutes ago                          priceless_kare
</span></span><span class="highlight-line"><span class="highlight-cl">6246ea4f21ef        docker.io/centos:latest   "/bin/sh -c 'while..."   46 minutes ago      Exited (137) 40 minutes ago                       compassionate_hugle
</span></span><span class="highlight-line"><span class="highlight-cl">ff20a65c5b95        docker.io/centos:latest   "/bin/bash"              3 hours ago         Exited (0) 3 hours ago                            serene_yalow
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker commit 692713fffabb docker.io/centos:apache 
</span></span><span class="highlight-line"><span class="highlight-cl">sha256:d61468f39896cf7f900f44b442c3e20960eba54bf877809f30a832e5c844ff15
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker images
</span></span><span class="highlight-line"><span class="highlight-cl">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    apache              d61468f39896        7 seconds ago       318 MB
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    latest              9f38484d220f        11 days ago         202 MB
</span></span><span class="highlight-line"><span class="highlight-cl">#使用新创建的 docker.io/centos：apache 镜像，生成一台容器实例： 镜像，生成一台容器实例：
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker run -it centos:apache /bin/bash
</span></span><span class="highlight-line"><span class="highlight-cl">[root@e105be29362b /]# rpm -qa httpd
</span></span><span class="highlight-line"><span class="highlight-cl">httpd-2.4.6-88.el7.centos.x86_64
</span></span><span class="highlight-line"><span class="highlight-cl">[root@e105be29362b /]# 
</span></span><span class="highlight-line"><span class="highlight-cl">#查找安装包可以说明基于docker的apacheweb服务器构建成功
</span></span></code></pre>
<h2 id="2-2通过docker-build-创建一个基于-centos-的-httpd-web-服务器镜像-使用-docker-build-创建镜像时-需要使用-Dockerfile-文件自动化制作-image--镜像注-Dockerfile-有点像源码编译时--configure-后产生的-Makefile">2.2 通过 docker build 创建一个基于 CentOS 的 httpd Web 服务器镜像。使用 docker build 创建镜像时，需要使用 Dockerfile 文件自动化制作 image  镜像注：Dockerfile 有点像源码编译时./configure 后产生的 Makefile</h2>
<p class="indent--2">以下操作要在 docker 物理机上操作：</p>
<ol>
<li>创建工作目录</li>
</ol>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# mkdir /docker-build 
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon docker-build]# touch Dockerfile
</span></span></code></pre>
<ol start="2">
<li>编辑 Dockerfile<br>
Dockerfile 用来创建一个自定义的 image,包含了用户指定的软件依赖等。</li>
</ol>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon docker-build]# vim Dockerfile 
</span></span><span class="highlight-line"><span class="highlight-cl">FROM docker.io/centos:latest
</span></span><span class="highlight-line"><span class="highlight-cl">MAINTAINER &lt;www.cjzshilong.cn&gt;
</span></span><span class="highlight-line"><span class="highlight-cl">RUN yum -y install httpd
</span></span><span class="highlight-line"><span class="highlight-cl">ADD start.sh /usr/local/bin/start.sh
</span></span><span class="highlight-line"><span class="highlight-cl">ADD index.html /var/www/html/index.html
</span></span><span class="highlight-line"><span class="highlight-cl">CMD /usr/local/bin/start.sh
</span></span></code></pre>
<p class="indent--2">注释：<br>
FROM docker.io/centos:latest # FROM 基于哪个镜像 MAINTAINER &lt;www.cjzshilong.cn&gt;<br>
MAINTAINER 镜像创建者<br>
RUN yum -y install httpd	#RUN 安装软件用<br>
ADD start.sh /usr/local/bin/start.sh<br>
ADD index.html /var/www/html/index.html CMD /usr/local/bin/start.sh<br>
ADD   将文件<src>拷贝到新产生的镜像的文件系统对应的路径<dest>。所有拷贝到新镜像中的文件和文件夹权限为 0755,uid 和 gid 为 0<br>
CMD echo hello world	#container 启劢时执行的命令或启劢服务，但是一个 Dockerfile 中叧能有一条 CMD 命令，多条则叧执行最后一条 CMD.</dest></src></p>
<ol start="3">
<li>创建  start.sh 脚本启动 httpd 服务和 apache 默认首页 index.html 文件</li>
</ol>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon docker-build]# echo "/usr/sbin/httpd -DFOREGROUND" &gt; start.sh
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon docker-build]# chmod a+x start.sh 
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon docker-build]# echo "docker images build test" &gt; index.html
</span></span></code></pre>
<p class="indent--2">注：/usr/sbin/httpd -DFOREGROUND 参数的含意：<br>
Systemd is designed to run processes "in the foreground", that is, they don't have to specifically run themselves as daemons. The processes don't exactly run in the foreground, they run under systemd and it captures their input and output, but from the process's perspective, it is the same as running in the foreground.  That  is  systemd's  preferred method of operation, but it does have compatibility with traditional daemons.</p>
<ol start="4">
<li>使用命令来创建新的 image<br>
语法：docker build -t    父镜像名：镜像的 tag	Dockerfile 文件所在路径<br>
-t :表示 tage，镜像名<br>
例：使用命令 docker build 来创建新的 image,并命名为 docker.io/centos:httpd</li>
</ol>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon docker-build]# docker build -t docker.io/centos:httpd ./
</span></span><span class="highlight-line"><span class="highlight-cl">……
</span></span><span class="highlight-line"><span class="highlight-cl">Complete!
</span></span><span class="highlight-line"><span class="highlight-cl"> ---&gt; 15fa43bfc4fd
</span></span><span class="highlight-line"><span class="highlight-cl">Removing intermediate container 032876270cc9
</span></span><span class="highlight-line"><span class="highlight-cl">Step 4/6 : ADD start.sh /usr/local/bin/start.sh
</span></span><span class="highlight-line"><span class="highlight-cl"> ---&gt; 7c5122e78132
</span></span><span class="highlight-line"><span class="highlight-cl">Removing intermediate container d4788388dfd4
</span></span><span class="highlight-line"><span class="highlight-cl">Step 5/6 : ADD index.html /var/www/html/index.html
</span></span><span class="highlight-line"><span class="highlight-cl"> ---&gt; b02c0f7e5657
</span></span><span class="highlight-line"><span class="highlight-cl">Removing intermediate container e8fd13da450e
</span></span><span class="highlight-line"><span class="highlight-cl">Step 6/6 : CMD /usr/local/bin/start.sh
</span></span><span class="highlight-line"><span class="highlight-cl"> ---&gt; Running in e28625d1a0e3
</span></span><span class="highlight-line"><span class="highlight-cl"> ---&gt; 7703e62fc080
</span></span><span class="highlight-line"><span class="highlight-cl">Removing intermediate container e28625d1a0e3
</span></span><span class="highlight-line"><span class="highlight-cl">Successfully built 7703e62fc080
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon docker-build]# docker images
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">REPOSITORY          TAG                 IMAGE ID            CREATED              SIZE
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    httpd               7703e62fc080        About a minute ago   318 MB
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    apache              d61468f39896        27 minutes ago       318 MB
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    latest              9f38484d220f        11 days ago          202 MB
</span></span></code></pre>
<p class="indent--2">./表示当前目录，当前目录要含有 Dockerfile 文件</p>
<h1 id="三-Docker-images的发布">三、Docker images 的发布</h1>
<p class="indent--2">方法 1：Save Image To TarBall<br>
方法 2：Push Image To Docker Hub</p>
<h2 id="3-1-方法1-Save-Image-To-TarBall">3.1 方法 1：Save Image To TarBall</h2>
<p class="indent--2">保 存 Image 到 tar 包<br>
语法：docker save -o 导出的镜像名.tar  本地镜像名：镜像标签例：</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker save -o docker.io-centos-httpd-image.tar docker.io/centos:httpd
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# ll -h
</span></span><span class="highlight-line"><span class="highlight-cl">总用量 311M
</span></span><span class="highlight-line"><span class="highlight-cl">-rw-------. 1 root root 311M 3月  26 18:38 docker.io-centos-httpd-image.tar
</span></span></code></pre>
<p class="indent--2">例：使用导入本地镜像：</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker rmi docker.io/centos:httpd
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">Untagged: docker.io/centos:httpd
</span></span><span class="highlight-line"><span class="highlight-cl">Deleted: sha256:7703e62fc0802dcb545ed4403dda4e343e0d51ae984db30efb2e32f0e045ef26
</span></span><span class="highlight-line"><span class="highlight-cl">Deleted: sha256:b02c0f7e565757ec489dd759a45abf321273bca9959e3193dcf9a6d3de4adf2b
</span></span><span class="highlight-line"><span class="highlight-cl">Deleted: sha256:1e9184e36e9a941d7bd35ae854ac2677367f0f0882d2d8056cc1a9b025dad4c3
</span></span><span class="highlight-line"><span class="highlight-cl">Deleted: sha256:7c5122e7813298d44726f2c4df0f27be01cfe85ab2cf530d3729d3e84908dd29
</span></span><span class="highlight-line"><span class="highlight-cl">Deleted: sha256:ff61787458e2102cfa4247fea79da7103d5017ef496ba8b9f83ad9296f1f60ea
</span></span><span class="highlight-line"><span class="highlight-cl">Deleted: sha256:15fa43bfc4fd425002a5b528d061782f954643234fdd0beef31f380646b8471b
</span></span><span class="highlight-line"><span class="highlight-cl">Deleted: sha256:0e4e270a381efa029a8d0a26e377055ca8aa49d1d3fe595d2c05fb76824ff809
</span></span><span class="highlight-line"><span class="highlight-cl">Deleted: sha256:bf93b347b502d32efcbfe18746fda992b7675e36ead5fb727e237194c999cdaf
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker images
</span></span><span class="highlight-line"><span class="highlight-cl">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    apache              d61468f39896        34 minutes ago      318 MB
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    latest              9f38484d220f        11 days ago         202 MB
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker load -i docker.io-centos-httpd-image.tar 
</span></span><span class="highlight-line"><span class="highlight-cl">f42df3e4c26b: Loading layer [==================================================&gt;] 116.6 MB/116.6 MB
</span></span><span class="highlight-line"><span class="highlight-cl">b1e658f9a703: Loading layer [==================================================&gt;] 3.584 kB/3.584 kB
</span></span><span class="highlight-line"><span class="highlight-cl">1ebe4270a160: Loading layer [==================================================&gt;] 3.584 kB/3.584 kB
</span></span><span class="highlight-line"><span class="highlight-cl">Loaded image: docker.io/centos:httpd
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker images
</span></span><span class="highlight-line"><span class="highlight-cl">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    httpd               7703e62fc080        10 minutes ago      318 MB
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    apache              d61468f39896        35 minutes ago      318 MB
</span></span><span class="highlight-line"><span class="highlight-cl">docker.io/centos    latest              9f38484d220f        11 days ago         202 MB
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]#
</span></span></code></pre>
<h2 id="3-2-方法2-Push-Image-To-Docker-Hub-发布到外网">3.2 方法 2：Push Image To Docker Hub 发布到外网</h2>
<ol>
<li>Signup on docker hub &amp; create repo	注册一个帐号 <a href="https://hub.docker.com/" target="_blank">https://hub.docker.com/</a></li>
<li>Login to docker hub<br>
// docker login -u userabc -p abc123 -e <a href="mailto:userab@gmail.com" target="_blank">userab@gmail.com</a></li>
<li>Push image to docker hub	#上传镜像<br>
// docker push centos:httpd</li>
<li>Pull image from docker hub	#下载镜像<br>
//  docker pull userabc/centos:httpd	# 用户名/镜像名</li>
</ol>
<h2 id="3-2-方法3-使用阿里云的私有仓库来发布-">3.2 方法 3：使用阿里云的私有仓库来发布;</h2>
<p class="indent--2">待实验……</p>
<h1 id="四-Container-容器端口映射">四、Container 容器端口映射</h1>
<h2 id="4-1-实战Container-端口映射">4.1 实战 Container 端口映射</h2>
<p class="indent--2">启动 Container</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker run -d -p 80:80 docker.io/centos:httpd 
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">6a1fc818a972307687b9130ad7460c098c2bd88d60eb9026d565c7c24b71fe33
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]#
</span></span></code></pre>
<p class="indent--2">注： -p 物理机的 80 端口:容器实例的 80 端口 ，把容器中的 80 端口映射到物理机上的 80 端口</p>
<p class="indent--2">在物理机上查看容器状态</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker ps
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">CONTAINER ID        IMAGE                    COMMAND                  CREATED             STATUS              PORTS                NAMES
</span></span><span class="highlight-line"><span class="highlight-cl">6a1fc818a972        docker.io/centos:httpd   "/bin/sh -c /usr/l..."   43 seconds ago      Up 42 seconds       0.0.0.0:80-&gt;80/tcp   unruffled_yonath
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# netstat -antup | grep 80
</span></span><span class="highlight-line"><span class="highlight-cl">tcp        0      0 192.168.89.209:22       192.168.89.80:62820     ESTABLISHED 1397/sshd: root@pts 
</span></span><span class="highlight-line"><span class="highlight-cl">tcp        0      0 192.168.89.209:22       192.168.89.80:62819     ESTABLISHED 1358/sshd: root@pts 
</span></span><span class="highlight-line"><span class="highlight-cl">tcp6       0      0 :::80                   :::*                    LISTEN      6742/docker-proxy-c 
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]#
</span></span></code></pre>
<p class="indent--2">测试 http<br>
<img src="https://b3logfile.com/file/2019/03/dockerhtml-8795600a.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="dockerhtml.png"></p>
<h2 id="4-2-访问正在运行的container容器实例">4.2 访问正在运行的 container 容器实例</h2>
<p class="indent--2">语 法 ： docker exec -it &lt;container id | name&gt; /bin/bash<br>
查看正在运行的容器 ID：</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker ps 
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">CONTAINER ID        IMAGE                    COMMAND                  CREATED             STATUS              PORTS                NAMES
</span></span><span class="highlight-line"><span class="highlight-cl">6a1fc818a972        docker.io/centos:httpd   "/bin/sh -c /usr/l..."   6 minutes ago       Up 6 minutes        0.0.0.0:80-&gt;80/tcp   unruffled_yonath
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker exec -it 6a1fc818a972 /bin/bash 
</span></span><span class="highlight-line"><span class="highlight-cl">[root@6a1fc818a972 /]# echo cuijianzhe &gt; /var/www/html/test.html
</span></span><span class="highlight-line"><span class="highlight-cl">[root@6a1fc818a972 /]# exit
</span></span><span class="highlight-line"><span class="highlight-cl">exit
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# curl http://192.168.89.209/test.html
</span></span><span class="highlight-line"><span class="highlight-cl">cuijianzhe
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]#
</span></span></code></pre>
<p class="indent--2">查看物理机和容器的网络<br>
查看容器的 ip</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker exec -it 6a1fc818a972 /bin/bash 
</span></span><span class="highlight-line"><span class="highlight-cl">[root@6a1fc818a972 /]# yum install net-tools -y 
</span></span><span class="highlight-line"><span class="highlight-cl">Loaded plugins: fastestmirror, ovl
</span></span><span class="highlight-line"><span class="highlight-cl">Loading mirror speeds from cached hostfile
</span></span><span class="highlight-line"><span class="highlight-cl"> * base: mirrors.zju.edu.cn
</span></span><span class="highlight-line"><span class="highlight-cl"> * extras: mirrors.shu.edu.cn
</span></span><span class="highlight-line"><span class="highlight-cl"> * updates: mirrors.shu.edu.cn
</span></span><span class="highlight-line"><span class="highlight-cl">Resolving Dependencies
</span></span><span class="highlight-line"><span class="highlight-cl">--&gt; Running transaction check
</span></span><span class="highlight-line"><span class="highlight-cl">---&gt; Package net-tools.x86_64 0:2.0-0.24.20131004git.el7 will be installed
</span></span><span class="highlight-line"><span class="highlight-cl">--&gt; Finished Dependency Resolution
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">Dependencies Resolved
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">==========================================================================================================================================================================================================
</span></span><span class="highlight-line"><span class="highlight-cl"> Package                                        Arch                                        Version                                                       Repository                                 Size
</span></span><span class="highlight-line"><span class="highlight-cl">==========================================================================================================================================================================================================
</span></span><span class="highlight-line"><span class="highlight-cl">Installing:
</span></span><span class="highlight-line"><span class="highlight-cl"> net-tools                                      x86_64                                      2.0-0.24.20131004git.el7                                      base                                      306 k
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">Transaction Summary
</span></span><span class="highlight-line"><span class="highlight-cl">==========================================================================================================================================================================================================
</span></span><span class="highlight-line"><span class="highlight-cl">Install  1 Package
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">Total download size: 306 k
</span></span><span class="highlight-line"><span class="highlight-cl">Installed size: 918 k
</span></span><span class="highlight-line"><span class="highlight-cl">Downloading packages:
</span></span><span class="highlight-line"><span class="highlight-cl">net-tools-2.0-0.24.20131004git.el7.x86_64.rpm                                                                                                                                      | 306 kB  00:00:00     
</span></span><span class="highlight-line"><span class="highlight-cl">Running transaction check
</span></span><span class="highlight-line"><span class="highlight-cl">Running transaction test
</span></span><span class="highlight-line"><span class="highlight-cl">Transaction test succeeded
</span></span><span class="highlight-line"><span class="highlight-cl">Running transaction
</span></span><span class="highlight-line"><span class="highlight-cl">  Installing : net-tools-2.0-0.24.20131004git.el7.x86_64                                                                                                                                              1/1 
</span></span><span class="highlight-line"><span class="highlight-cl">  Verifying  : net-tools-2.0-0.24.20131004git.el7.x86_64                                                                                                                                              1/1 
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">Installed:
</span></span><span class="highlight-line"><span class="highlight-cl">  net-tools.x86_64 0:2.0-0.24.20131004git.el7                                                                                                                                                             
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">Complete!
</span></span><span class="highlight-line"><span class="highlight-cl">[root@6a1fc818a972 /]# ifconfig
</span></span><span class="highlight-line"><span class="highlight-cl">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
</span></span><span class="highlight-line"><span class="highlight-cl">        inet 172.17.0.2  netmask 255.255.0.0  broadcast 0.0.0.0
</span></span><span class="highlight-line"><span class="highlight-cl">        inet6 fe80::42:acff:fe11:2  prefixlen 64  scopeid 0x20&lt;link&gt;
</span></span><span class="highlight-line"><span class="highlight-cl">        ether 02:42🇦🇨11:00:02  txqueuelen 0  (Ethernet)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX packets 184  bytes 326507 (318.8 KiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX errors 0  dropped 0  overruns 0  frame 0
</span></span><span class="highlight-line"><span class="highlight-cl">        TX packets 162  bytes 11695 (11.4 KiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
</span></span><span class="highlight-line"><span class="highlight-cl">        inet 127.0.0.1  netmask 255.0.0.0
</span></span><span class="highlight-line"><span class="highlight-cl">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
</span></span><span class="highlight-line"><span class="highlight-cl">        loop  txqueuelen 1000  (Local Loopback)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX packets 0  bytes 0 (0.0 B)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX errors 0  dropped 0  overruns 0  frame 0
</span></span><span class="highlight-line"><span class="highlight-cl">        TX packets 0  bytes 0 (0.0 B)
</span></span><span class="highlight-line"><span class="highlight-cl">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">[root@6a1fc818a972 /]#
</span></span></code></pre>
<p class="indent--2">物理机的 ip：</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# ifconfig
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">docker0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
</span></span><span class="highlight-line"><span class="highlight-cl">        inet 172.17.0.1  netmask 255.255.0.0  broadcast 0.0.0.0
</span></span><span class="highlight-line"><span class="highlight-cl">        inet6 fe80::42:a1ff:fee8:1077  prefixlen 64  scopeid 0x20&lt;link&gt;
</span></span><span class="highlight-line"><span class="highlight-cl">        ether 02:42:a1:e8:10:77  txqueuelen 0  (Ethernet)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX packets 33531  bytes 2208751 (2.1 MiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX errors 0  dropped 0  overruns 0  frame 0
</span></span><span class="highlight-line"><span class="highlight-cl">        TX packets 37270  bytes 74193226 (70.7 MiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
</span></span><span class="highlight-line"><span class="highlight-cl">        inet 192.168.89.209  netmask 255.255.255.0  broadcast 192.168.89.255
</span></span><span class="highlight-line"><span class="highlight-cl">        inet6 fe80::e99d:e9f2:8c11:9372  prefixlen 64  scopeid 0x20&lt;link&gt;
</span></span><span class="highlight-line"><span class="highlight-cl">        ether 00:0c:29:33:7b:83  txqueuelen 1000  (Ethernet)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX packets 278009  bytes 207333025 (197.7 MiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX errors 0  dropped 1  overruns 0  frame 0
</span></span><span class="highlight-line"><span class="highlight-cl">        TX packets 98075  bytes 8610553 (8.2 MiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
</span></span><span class="highlight-line"><span class="highlight-cl">        inet 127.0.0.1  netmask 255.0.0.0
</span></span><span class="highlight-line"><span class="highlight-cl">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
</span></span><span class="highlight-line"><span class="highlight-cl">        loop  txqueuelen 1000  (Local Loopback)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX packets 634  bytes 57000 (55.6 KiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX errors 0  dropped 0  overruns 0  frame 0
</span></span><span class="highlight-line"><span class="highlight-cl">        TX packets 634  bytes 57000 (55.6 KiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">vethd559ccb: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
</span></span><span class="highlight-line"><span class="highlight-cl">        inet6 fe80::8cea:50ff:fe38:8696  prefixlen 64  scopeid 0x20&lt;link&gt;
</span></span><span class="highlight-line"><span class="highlight-cl">        ether 8e🇪🇦50:38:86:96  txqueuelen 0  (Ethernet)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX packets 162  bytes 11695 (11.4 KiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        RX errors 0  dropped 0  overruns 0  frame 0
</span></span><span class="highlight-line"><span class="highlight-cl">        TX packets 184  bytes 326507 (318.8 KiB)
</span></span><span class="highlight-line"><span class="highlight-cl">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]#
</span></span></code></pre>
<p class="indent--2">目前相当于虚拟机的 NAT 模式<br>
<img src="https://b3logfile.com/file/2019/03/dockermoshi-8b180ed2.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="dockermoshi.png"></p>
<p class="indent--2">配置容器的 root 密码：</p>
<pre><code class="highlight-chroma"><span class="highlight-line"><span class="highlight-cl">[root@bogon ~]# docker exec -it 6a1fc818a972 /bin/bash 
</span></span><span class="highlight-line"><span class="highlight-cl">
</span></span><span class="highlight-line"><span class="highlight-cl">[root@6a1fc818a972 /]# echo 598941324 | passwd --stdin root
</span></span><span class="highlight-line"><span class="highlight-cl">Changing password for user root.
</span></span><span class="highlight-line"><span class="highlight-cl">passwd: all authentication tokens updated successfully.
</span></span><span class="highlight-line"><span class="highlight-cl">[root@6a1fc818a972 /]#
</span></span></code></pre>
<p class="indent--2">在容器中安装 sshd 服务，然后把 22 端口映射出去，就可以远程登录容器了。</p>
                <div>
                    <hr>

标题：搭建docker之路-初识（1）<br>
作者：<a href="https://cuijianzhe.github.io" target="_blank">cuijianzhe</a><br>
地址：<a href="https://cuijianzhe.github.io/articles/2019/03/26/1553571577540.html" target="_blank">https://cuijianzhe.github.io/articles/2019/03/26/1553571577540.html</a><br>

<!-- 签名档内可使用 HTML、JavaScript -->
<br>
                </div>
        </div>
    </div>
    <div class="post__toc">
<ul class="article__toc">
        <li class="toc__h1">
            <a href="#一--安装docker环境">一、 安装 docker 环境</a>
        </li>
        <li class="toc__h2">
            <a href="#1-1-安装">1.1 安装</a>
        </li>
        <li class="toc__h2">
            <a href="#1-2-下载docker镜像">1.2 下载 docker 镜像</a>
        </li>
        <li class="toc__h2">
            <a href="#1-3实际应用-">1.3 实际应用：</a>
        </li>
        <li class="toc__h3">
            <a href="#例1-运行一个--container--并加载镜像-centos-运行起来这个实例后-在实例中执行--bin-bash-命令">例 1：运行一个 container 并加载镜像 CentOS，运行起来这个实例后，在实例中执行 /bin/bash 命令</a>
        </li>
        <li class="toc__h3">
            <a href="#例2-在-container-中启动一个长久运行的进程-不断向-stdin-输出--hello-world---模拟一个后台运行的服务">例 2：在 container 中启动一个长久运行的进程，不断向 stdin 输出 hello world 。模拟一个后台运行的服务</a>
        </li>
        <li class="toc__h3">
            <a href="#例3-从一个容器中取日志-查看输出的内容-可用于后期检查-docker-实例在标准输出中弹出的错误信息或正常的信息-">例 3：从一个容器中取日志，查看输出的内容，可用于后期检查 docker 实例在标准输出中弹出的错误信息或正常的信息。</a>
        </li>
        <li class="toc__h3">
            <a href="#例4-启动-停止-重启-container-容器实例">例 4：启动、停止、重启 container 容器实例</a>
        </li>
        <li class="toc__h3">
            <a href="#例5-删除指定-container---rm">例 5：删除指定 container ： rm</a>
        </li>
        <li class="toc__h1">
            <a href="#二-docker镜像制作的方法-">二、docker 镜像制作的方法：</a>
        </li>
        <li class="toc__h2">
            <a href="#2-1-创建一个安装好-apache-web-服务器的容器镜像">2.1 创建一个安装好 apache Web 服务器的容器镜像</a>
        </li>
        <li class="toc__h2">
            <a href="#2-2通过docker-build-创建一个基于-centos-的-httpd-web-服务器镜像-使用-docker-build-创建镜像时-需要使用-Dockerfile-文件自动化制作-image--镜像注-Dockerfile-有点像源码编译时--configure-后产生的-Makefile">2.2 通过 docker build 创建一个基于 CentOS 的 httpd Web 服务器镜像。使用 docker build 创建镜像时，需要使用 Dockerfile 文件自动化制作 image 镜像注：Dockerfile 有点像源码编译时./configure 后产生的 Makefile</a>
        </li>
        <li class="toc__h1">
            <a href="#三-Docker-images的发布">三、Docker images 的发布</a>
        </li>
        <li class="toc__h2">
            <a href="#3-1-方法1-Save-Image-To-TarBall">3.1 方法 1：Save Image To TarBall</a>
        </li>
        <li class="toc__h2">
            <a href="#3-2-方法2-Push-Image-To-Docker-Hub-发布到外网">3.2 方法 2：Push Image To Docker Hub 发布到外网</a>
        </li>
        <li class="toc__h2">
            <a href="#3-2-方法3-使用阿里云的私有仓库来发布-">3.2 方法 3：使用阿里云的私有仓库来发布;</a>
        </li>
        <li class="toc__h1">
            <a href="#四-Container-容器端口映射">四、Container 容器端口映射</a>
        </li>
        <li class="toc__h2">
            <a href="#4-1-实战Container-端口映射">4.1 实战 Container 端口映射</a>
        </li>
        <li class="toc__h2">
            <a href="#4-2-访问正在运行的container容器实例">4.2 访问正在运行的 container 容器实例</a>
        </li>
</ul>    </div>
    <div class="body--gray post__gray">
        <div class="wrapper comment">
                <div id="gitalk-container" style="padding: 30px 0;"></div>
                <div id="b3logsolocomments"></div>
                <div id="vcomment" style="padding: 30px 0;" data-name="cuijianzhe" data-postId="1553571577125"></div>

            <div class="post__list fn__flex">
                <div class="fn__flex-1">
                    <div id="externalRelevantArticles"></div>
                </div>
                <div class="post__list-mid fn__flex-1">
                    <div id="randomArticles"></div>
                </div>
                <div class="fn__flex-1">
                    <div id="relevantArticles"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="post__fix">
        <div class="wrapper">
            <span class="post__share mobile__none">
                Share
                <span class="tag tag--4" data-type="weibo">WeiBo</span>
                <span class="tag tag--5" data-type="twitter">Twitter</span>
                <span class="tag tag--6" data-type="qqz">QZone</span>
                <span class="post__code tag tag--7"
                      data-type="wechat"
                      data-title="搭建docker之路-初识（1）"
                      data-blogtitle="邯城往事"
                      data-url="https://cuijianzhe.github.io/articles/2019/03/26/1553571577540.html"
                      data-avatar="https://b3logfile.com/avatar/1551626533851_1560155807399.gif?imageView2/1/w/128/h/128/interlace/0/q/100">
                    WeChat
                    <span class="qrcode"></span>
                </span>
            </span>
            <span class="post__arrow">
                    <a href="https://cuijianzhe.github.io/articles/2019/03/23/1553311254119.html" rel="prev"
                       class="vditor-tooltipped__n vditor-tooltipped"
                       pjax-title="uniq、sort命令理解"
                       aria-label="旧一篇: uniq、sort命令理解">←</a>

                    <a href="https://cuijianzhe.github.io/articles/2019/03/27/1553650586883.html" rel="next"
                       class="vditor-tooltipped__n vditor-tooltipped"
                       pjax-title="docker容器命名和资源配额控制(2)"
                       aria-label="新一篇: docker容器命名和资源配额控制(2)">→</a>
                <a href="javascript:Util.goTop()" class="vditor-tooltipped__n vditor-tooltipped"
                   aria-label="移动到顶部">↑</a>
                <a href="javascript:Util.goBottom()" class="vditor-tooltipped__n vditor-tooltipped"
                   aria-label="移动到底部">↓</a>
            </span>
        </div>
    </div>
    
</main>
<footer class="footer">
    <div class="ft__center">
    <a href="https://ld246.com/member/cuijianzhe"
       aria-label="https://ld246.com/member/cuijianzhe"
       class="vditor-tooltipped__n vditor-tooltipped  user__site"
       target="_blank" rel="noopener nofollow">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path fill="#d23f31" style="fill: var(--color1, #d23f31)" d="M5.787 17.226h17.033l5.954 9.528c0.47 0.752 0.003 1.361-1.042 1.361h-15.141z"></path>
            <path d="M10.74 3.927h17.033c1.045 0 1.512 0.609 1.042 1.361l-5.954 9.528h-19.872l6.379-10.209c0.235-0.376 0.849-0.681 1.372-0.681z"></path>
            <path d="M2.953 17.226h2.839l6.804 10.889h-1.892c-0.523 0-1.137-0.305-1.372-0.681z"></path>
        </svg>
    </a>

        <a href="https://github.com/cuijianzhe"
           aria-label="https://github.com/cuijianzhe"
           class="vditor-tooltipped__n vditor-tooltipped  user__site"
           target="_blank" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M16 0.331c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
            </svg>
        </a>

        <a href="https://twitter.com/JianzheC"
           aria-label="https://twitter.com/JianzheC"
           target="_blank"
           class="vditor-tooltipped__n vditor-tooltipped  user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M32.003 6.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
            </svg>
        </a>
        <a href="https://weibo.com/3796930704"
           aria-label="https://weibo.com/3796930704"
           target="_blank"
           class="vditor-tooltipped__n vditor-tooltipped  user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M13.444 27.064c-5.3 0.525-9.875-1.875-10.219-5.35-0.344-3.481 3.675-6.719 8.969-7.244 5.3-0.525 9.875 1.875 10.212 5.35 0.35 3.481-3.669 6.725-8.963 7.244zM24.038 15.521c-0.45-0.137-0.762-0.225-0.525-0.819 0.512-1.287 0.563-2.394 0.006-3.188-1.038-1.481-3.881-1.406-7.137-0.037 0 0-1.025 0.444-0.762-0.363 0.5-1.613 0.425-2.956-0.356-3.737-1.769-1.769-6.469 0.069-10.5 4.1-3.013 3.006-4.763 6.212-4.763 8.981 0 5.287 6.787 8.506 13.425 8.506 8.7 0 14.494-5.056 14.494-9.069 0-2.431-2.044-3.806-3.881-4.375z"></path>
                <path d="M29.819 5.833c-2.1-2.331-5.2-3.219-8.063-2.612v0c-0.663 0.144-1.081 0.794-0.938 1.45 0.144 0.662 0.788 1.081 1.45 0.938 2.038-0.431 4.238 0.2 5.731 1.856s1.9 3.913 1.256 5.888v0c-0.206 0.644 0.144 1.331 0.788 1.544 0.644 0.206 1.331-0.144 1.544-0.787v-0.006c0.9-2.762 0.331-5.938-1.769-8.269z"></path>
                <path d="M26.588 8.752c-1.025-1.138-2.538-1.569-3.925-1.269-0.569 0.119-0.931 0.688-0.813 1.256 0.125 0.569 0.688 0.931 1.25 0.806v0c0.681-0.144 1.419 0.069 1.919 0.619 0.5 0.556 0.637 1.313 0.419 1.975v0c-0.175 0.55 0.125 1.15 0.681 1.331 0.556 0.175 1.15-0.125 1.331-0.681 0.438-1.356 0.163-2.906-0.863-4.037z"></path>
                <path d="M13.738 20.771c-0.188 0.319-0.594 0.469-0.912 0.337-0.319-0.125-0.412-0.488-0.231-0.794 0.188-0.306 0.581-0.456 0.894-0.337 0.313 0.113 0.425 0.469 0.25 0.794zM12.044 22.933c-0.512 0.819-1.613 1.175-2.438 0.8-0.813-0.369-1.056-1.319-0.544-2.119 0.506-0.794 1.569-1.15 2.388-0.806 0.831 0.356 1.1 1.3 0.594 2.125zM13.969 17.146c-2.519-0.656-5.369 0.6-6.463 2.819-1.119 2.262-0.037 4.781 2.506 5.606 2.638 0.85 5.75-0.456 6.831-2.894 1.069-2.394-0.262-4.85-2.875-5.531z"></path>
            </svg>
        </a>
        <a href="https://www.zhihu.com/people/wen-yang-24-36"
           aria-label="https://www.zhihu.com/people/wen-yang-24-36"
           target="_blank"
           class="vditor-tooltipped__n vditor-tooltipped  user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M32 26.67c0 2.931-2.382 5.33-5.33 5.33h-21.339c-2.948 0-5.33-2.382-5.33-5.33v-21.339c0-2.948 2.382-5.33 5.33-5.33h21.339c2.948 0 5.33 2.382 5.33 5.33v21.339zM12.358 17.191h4.713c0-1.114-0.531-1.748-0.531-1.748h-4.079c0.103-2.005 0.189-4.576 0.223-5.536h3.874s-0.017-1.645-0.463-1.645h-6.822s0.411-2.142 0.96-3.085c0 0-2.040-0.12-2.742 2.605-0.686 2.725-1.731 4.354-1.851 4.662s0.6 0.137 0.891 0c0.309-0.137 1.663-0.617 2.057-2.537h2.108c0.034 1.2 0.12 4.885 0.086 5.536h-4.336c-0.6 0.446-0.823 1.748-0.823 1.748h4.971c-0.206 1.371-0.566 3.137-1.080 4.062-0.806 1.491-1.234 2.828-4.131 5.176 0 0-0.48 0.36 0.994 0.223 1.474-0.12 2.845-0.514 3.839-2.434 0.514-0.994 1.011-2.28 1.423-3.565l4.079 4.713s0.548-1.268 0.137-2.657l-3.034-3.394-1.028 0.754c0.291-0.994 0.497-1.988 0.548-2.845 0.017 0.017 0.017 0 0.017-0.034zM18.048 7.936v16.3h1.714l0.703 1.954 2.965-1.954h3.754v-16.3h-9.136zM25.401 22.487h-1.937l-2.434 1.611-0.566-1.611h-0.6v-12.735h5.553v12.735h-0.017z"></path>
            </svg>
        </a>
        <a href="tencent://message/?uin=598941324"
           aria-label="598941324"
           target="_blank"
           class="vditor-tooltipped__n vditor-tooltipped  user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M4.821 14.393c-0.125-0.304-0.143-0.607-0.143-0.929 0-0.5 0.321-1.304 0.625-1.679-0.018-0.464 0.179-1.411 0.536-1.714 0-3.304 2.554-7.464 5.536-8.893 1.839-0.875 3.768-1.179 5.786-1.179 1.571 0 3.286 0.375 4.75 0.982 4.196 1.768 5.143 5.054 6.036 9.25l0.018 0.089c0.518 0.786 0.982 1.714 0.982 2.679 0 0.482-0.321 0.964-0.321 1.393 0 0.036 0.107 0.179 0.125 0.214 1.536 2.268 2.929 4.732 2.929 7.554 0 0.625-0.339 2.804-1.339 2.804-0.696 0-1.464-1.696-1.714-2.161-0.018-0.018-0.036-0.018-0.054-0.018l-0.089 0.071c-0.571 1.482-1.196 2.875-2.357 3.982 1.018 0.982 2.661 0.893 2.964 2.589-0.089 0.196-0.054 0.411-0.196 0.607-1.018 1.536-3.75 1.732-5.393 1.732-2.179 0-3.946-0.571-6-1.179-0.429-0.125-1.071-0.054-1.536-0.107-1.089 1.196-3.75 1.518-5.286 1.518-1.357 0-6.607-0.089-6.607-2.411 0-1 0.214-1.286 0.911-1.929 0.554-0.107 0.964-0.411 1.607-0.446 0.089 0 0.161-0.018 0.25-0.036 0.018-0.018 0.036-0.018 0.036-0.071l-0.036-0.054c-1.232-0.286-2.964-3.393-3.232-4.679l-0.089-0.054c-0.125 0-0.179 0.268-0.214 0.357-0.393 0.911-1.321 1.893-2.357 2h-0.018c-0.143 0-0.089-0.143-0.196-0.179-0.25-0.589-0.411-1.125-0.411-1.786 0-3.571 1.714-6.214 4.5-8.321z"></path>
            </svg>
        </a>
        <a href="javascript:void(0)"
           class="vditor-tooltipped__n vditor-tooltipped  user__site" aria-label="cjz5989">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M9.062 9.203c0-0.859-0.562-1.422-1.422-1.422-0.844 0-1.703 0.562-1.703 1.422 0 0.844 0.859 1.406 1.703 1.406 0.859 0 1.422-0.562 1.422-1.406zM20.672 17.125c0-0.562-0.562-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.859 0 1.422-0.562 1.422-1.141zM16.984 9.203c0-0.859-0.562-1.422-1.406-1.422-0.859 0-1.703 0.562-1.703 1.422 0 0.844 0.844 1.406 1.703 1.406 0.844 0 1.406-0.562 1.406-1.406zM26.906 17.125c0-0.562-0.578-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.844 0 1.422-0.562 1.422-1.141zM22.75 10.922c-0.359-0.047-0.719-0.063-1.094-0.063-5.375 0-9.625 4.016-9.625 8.953 0 0.828 0.125 1.625 0.359 2.375-0.359 0.031-0.703 0.047-1.063 0.047-1.422 0-2.547-0.281-3.969-0.562l-3.953 1.984 1.125-3.406c-2.828-1.984-4.531-4.547-4.531-7.656 0-5.391 5.094-9.625 11.328-9.625 5.563 0 10.453 3.391 11.422 7.953zM32 19.687c0 2.547-1.688 4.813-3.969 6.516l0.859 2.828-3.109-1.703c-1.141 0.281-2.281 0.578-3.406 0.578-5.391 0-9.625-3.688-9.625-8.219s4.234-8.219 9.625-8.219c5.094 0 9.625 3.688 9.625 8.219z"></path>
            </svg>
        </a>
    </div>
    <nav class="footer__nav mobile__none">
            <a class="ft__link" href="/my-github-repos" target="_self" rel="section">
                我的开源
            </a>
            <a class="ft__link" href="http://times.cjzshilong.cn/time/" target="_blank" rel="section">
                服务器倒计时
            </a>
        <a class="ft__link" rel="alternate" href="https://cuijianzhe.github.io/rss.xml" rel="section">RSS</a>
    </nav>
    <div class="footer__border mobile__none"></div>
    <div class="wrapper fn__flex">
        <div class="fn__flex-1 mobile__none">
            <div class="ft__fade">cuijianzhe - 来自邯郸社畜的呐喊</div>
            <br>
                <h1 class="title" id="character" ><p style="font-size:10px"><font color="#FF00FF">红笺小字，说尽平生意。<br/>鸿雁在云鱼在水，惆怅此情难寄。<br/>             ——晏殊· 《清平乐》</font> </p></h1>

        </div>


        <div class="fn__flex-1 footer__copyright">
            <a class="ft__link" href="https://cuijianzhe.github.io/archives.html">
                166
                文章
            </a>
           <br>
            <span data-uvstaturl="https://cuijianzhe.github.io">0</span> <span class="ft-gray">浏览</span>
 <br>
            &copy; 2023
            <a class="ft__link" href="https://cuijianzhe.github.io">邯城往事</a>
            <img style="width: 20px; height: 20px;" src="https://b3logfile.com/file/2019/10/jinghuibeian-30e807bb.png" alt="备案标识" /><a href="https://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">冀ICP备19005901号-1</a>
        </div>
    </div>
</footer>
<script>
  var Label = {
    speech: true,
    servePath: "https://cuijianzhe.github.io",
    staticServePath: "https://cuijianzhe.github.io",
    luteAvailable: true,
    hljsStyle: 'vs',
    langLabel: "zh_CN",
    version: "4.4.0",
    staticSite: true,
    showCodeBlockLn: false,
    articleId: "1553571577125",
  }
</script>
<script type="text/javascript" src="https://cuijianzhe.github.io/skins/Pinghsu/js/headroom.min.js"></script>
<script type="text/javascript"
        src="https://cuijianzhe.github.io/skins/Pinghsu/js/common.min.js?1701918811548"
        charset="utf-8"></script>



<script type="text/javascript">
    Util.addScript('https://cuijianzhe.github.io/js/page.min.js?1701918811548', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "评论不能为空",
        "oId": "1553571577125",
        "blogHost": "https://cuijianzhe.github.io",
        "randomArticles1Label": "随机阅读：",
        "externalRelevantArticles1Label": "站外相关阅读："
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "0";
    page.loadRandomArticles('<h3>RECOMMEND POSTS</h3>');
    page.loadRelevantArticles('1553571577125', '<h3>RELEVANT POSTS</h3>');
Skin.initArticle()
    });
</script>

</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 43ms, 2023/12/11 19:00:42 -->