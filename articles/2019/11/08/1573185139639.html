<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>Scrapy学习 - 邯城往事</title><meta name="description" content="you are just one of my many many crush。——你只是我众多迷恋之一。"/><meta property="og:description" content="you are just one of my many many crush。——你只是我众多迷恋之一。"/>    <meta name="keywords" content="包容、开放、任性、桀骜"/><link rel="dns-prefetch" href="https://cdn.jsdelivr.net/gh/88250/solo@fd76918/src/main/resources"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://cdn.jsdelivr.net/gh/88250/solo@fd76918/src/main/resources"><link rel="icon" type="image/png" href="https://img.hacpai.com/file/2019/11/guohui-e67e7b3b.png"/><link rel="apple-touch-icon" href="https://img.hacpai.com/file/2019/11/guohui-e67e7b3b.png"><link rel="shortcut icon" type="image/x-icon" href="https://img.hacpai.com/file/2019/11/guohui-e67e7b3b.png"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="Scrapy学习 - 邯城往事"/><meta property="og:site_name" content="邯城往事"/><meta property="og:url"      content="https://cuijianzhe.github.io/articles/2019/11/08/1573185139639.html?"/><meta property="og:image" content="https://img.hacpai.com/file/2019/11/guohui-e67e7b3b.png"/><link rel="search" type="application/opensearchdescription+xml" title="Scrapy学习 - 邯城往事" href="/opensearch.xml"><link href="https://cuijianzhe.github.io/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://cuijianzhe.github.io/manifest.json">        <link rel="canonical" href="https://cuijianzhe.github.io/articles/2019/11/08/1573185139639.html">        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/gh/88250/solo@fd76918/src/main/resources/skins/Casper/css/base.css?1608803069102"/>
            <link rel="prev" title="openstack创建镜像，开启云主机" href="https://cuijianzhe.github.io/articles/2019/11/07/1573111362693.html">
            <link rel="next" title="站点推荐【转】" href="https://cuijianzhe.github.io/articles/2019/11/13/1573637956893.html">
    <!--鼠标点击特效-->
<script src="https://cdn.jsdelivr.net/gh/fz6m/Private-web@1.2/js/custom/click.min.js"></script>
<!--页面动态樱花-->
<!--script type="text/javascript"src="https://cdn.jsdelivr.net/gh/fz6m/Private-web@1.2/js/sakura/sakura-original.js"--></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.6.6/dist/js/icons/ant.js" async="" id="vditorIconScript"></script></head>
<body class="fn__flex-column">
<div id="pjax" class="fn__flex-1">
    
    <header class="header header--article">
        <div class="wrapper header__title">
            <h1 class="header__h1 fn__flex-inline">
                <img src="https://img.hacpai.com/file/2019/11/guohui-e67e7b3b.png" alt="邯城往事">
                <a href="https://cuijianzhe.github.io" rel="start" class="header__title">邯城往事</a>
            </h1>
            <h2 class="header__h2">               >>>  展颜笑夙愿，一笑泯恩仇 <<<</h2>
        </div>
        <nav class="wrapper header__nav fn__clear">
            <a href="https://cuijianzhe.github.io" rel="start">
                    邯城往事
            </a>

                <a class="fn__flex-inline" href="/my-github-repos" target="_self" rel="section">
                    <img src="/images/github-icon.png" alt="我的开源"> 我的开源
                </a>
                <a class="fn__flex-inline" href="http://times.cjzshilong.cn/time/time.html" target="_blank" rel="section">
                     服务器倒计时
                </a>


            <div class="fn__right">
    <a href="https://ld246.com/member/cuijianzhe"
       title="https://ld246.com/member/cuijianzhe"
       class="user__site"
       target="_blank" rel="noopener nofollow">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path fill="#d23f31" style="fill: var(--color1, #d23f31)" d="M5.787 17.226h17.033l5.954 9.528c0.47 0.752 0.003 1.361-1.042 1.361h-15.141z"></path>
            <path d="M10.74 3.927h17.033c1.045 0 1.512 0.609 1.042 1.361l-5.954 9.528h-19.872l6.379-10.209c0.235-0.376 0.849-0.681 1.372-0.681z"></path>
            <path d="M2.953 17.226h2.839l6.804 10.889h-1.892c-0.523 0-1.137-0.305-1.372-0.681z"></path>
        </svg>
    </a>

        <a href="https://github.com/cuijianzhe"
           title="https://github.com/cuijianzhe"
           class="user__site"
           target="_blank" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M16 0.331c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
            </svg>
        </a>

        <a href="https://twitter.com/JianzheC"
           title="https://twitter.com/JianzheC"
           target="_blank"
           class="user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M32.003 6.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
            </svg>
        </a>
        <a href="https://weibo.com/3796930704"
           title="https://weibo.com/3796930704"
           target="_blank"
           class="user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M13.444 27.064c-5.3 0.525-9.875-1.875-10.219-5.35-0.344-3.481 3.675-6.719 8.969-7.244 5.3-0.525 9.875 1.875 10.212 5.35 0.35 3.481-3.669 6.725-8.963 7.244zM24.038 15.521c-0.45-0.137-0.762-0.225-0.525-0.819 0.512-1.287 0.563-2.394 0.006-3.188-1.038-1.481-3.881-1.406-7.137-0.037 0 0-1.025 0.444-0.762-0.363 0.5-1.613 0.425-2.956-0.356-3.737-1.769-1.769-6.469 0.069-10.5 4.1-3.013 3.006-4.763 6.212-4.763 8.981 0 5.287 6.787 8.506 13.425 8.506 8.7 0 14.494-5.056 14.494-9.069 0-2.431-2.044-3.806-3.881-4.375z"></path>
                <path d="M29.819 5.833c-2.1-2.331-5.2-3.219-8.063-2.612v0c-0.663 0.144-1.081 0.794-0.938 1.45 0.144 0.662 0.788 1.081 1.45 0.938 2.038-0.431 4.238 0.2 5.731 1.856s1.9 3.913 1.256 5.888v0c-0.206 0.644 0.144 1.331 0.788 1.544 0.644 0.206 1.331-0.144 1.544-0.787v-0.006c0.9-2.762 0.331-5.938-1.769-8.269z"></path>
                <path d="M26.588 8.752c-1.025-1.138-2.538-1.569-3.925-1.269-0.569 0.119-0.931 0.688-0.813 1.256 0.125 0.569 0.688 0.931 1.25 0.806v0c0.681-0.144 1.419 0.069 1.919 0.619 0.5 0.556 0.637 1.313 0.419 1.975v0c-0.175 0.55 0.125 1.15 0.681 1.331 0.556 0.175 1.15-0.125 1.331-0.681 0.438-1.356 0.163-2.906-0.863-4.037z"></path>
                <path d="M13.738 20.771c-0.188 0.319-0.594 0.469-0.912 0.337-0.319-0.125-0.412-0.488-0.231-0.794 0.188-0.306 0.581-0.456 0.894-0.337 0.313 0.113 0.425 0.469 0.25 0.794zM12.044 22.933c-0.512 0.819-1.613 1.175-2.438 0.8-0.813-0.369-1.056-1.319-0.544-2.119 0.506-0.794 1.569-1.15 2.388-0.806 0.831 0.356 1.1 1.3 0.594 2.125zM13.969 17.146c-2.519-0.656-5.369 0.6-6.463 2.819-1.119 2.262-0.037 4.781 2.506 5.606 2.638 0.85 5.75-0.456 6.831-2.894 1.069-2.394-0.262-4.85-2.875-5.531z"></path>
            </svg>
        </a>
        <a href="https://www.zhihu.com/people/wen-yang-24-36"
           title="https://www.zhihu.com/people/wen-yang-24-36"
           target="_blank"
           class="user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M32 26.67c0 2.931-2.382 5.33-5.33 5.33h-21.339c-2.948 0-5.33-2.382-5.33-5.33v-21.339c0-2.948 2.382-5.33 5.33-5.33h21.339c2.948 0 5.33 2.382 5.33 5.33v21.339zM12.358 17.191h4.713c0-1.114-0.531-1.748-0.531-1.748h-4.079c0.103-2.005 0.189-4.576 0.223-5.536h3.874s-0.017-1.645-0.463-1.645h-6.822s0.411-2.142 0.96-3.085c0 0-2.040-0.12-2.742 2.605-0.686 2.725-1.731 4.354-1.851 4.662s0.6 0.137 0.891 0c0.309-0.137 1.663-0.617 2.057-2.537h2.108c0.034 1.2 0.12 4.885 0.086 5.536h-4.336c-0.6 0.446-0.823 1.748-0.823 1.748h4.971c-0.206 1.371-0.566 3.137-1.080 4.062-0.806 1.491-1.234 2.828-4.131 5.176 0 0-0.48 0.36 0.994 0.223 1.474-0.12 2.845-0.514 3.839-2.434 0.514-0.994 1.011-2.28 1.423-3.565l4.079 4.713s0.548-1.268 0.137-2.657l-3.034-3.394-1.028 0.754c0.291-0.994 0.497-1.988 0.548-2.845 0.017 0.017 0.017 0 0.017-0.034zM18.048 7.936v16.3h1.714l0.703 1.954 2.965-1.954h3.754v-16.3h-9.136zM25.401 22.487h-1.937l-2.434 1.611-0.566-1.611h-0.6v-12.735h5.553v12.735h-0.017z"></path>
            </svg>
        </a>
        <a href="tencent://message/?uin=598941324"
           title="598941324"
           target="_blank"
           class="user__site" rel="noopener nofollow">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M4.821 14.393c-0.125-0.304-0.143-0.607-0.143-0.929 0-0.5 0.321-1.304 0.625-1.679-0.018-0.464 0.179-1.411 0.536-1.714 0-3.304 2.554-7.464 5.536-8.893 1.839-0.875 3.768-1.179 5.786-1.179 1.571 0 3.286 0.375 4.75 0.982 4.196 1.768 5.143 5.054 6.036 9.25l0.018 0.089c0.518 0.786 0.982 1.714 0.982 2.679 0 0.482-0.321 0.964-0.321 1.393 0 0.036 0.107 0.179 0.125 0.214 1.536 2.268 2.929 4.732 2.929 7.554 0 0.625-0.339 2.804-1.339 2.804-0.696 0-1.464-1.696-1.714-2.161-0.018-0.018-0.036-0.018-0.054-0.018l-0.089 0.071c-0.571 1.482-1.196 2.875-2.357 3.982 1.018 0.982 2.661 0.893 2.964 2.589-0.089 0.196-0.054 0.411-0.196 0.607-1.018 1.536-3.75 1.732-5.393 1.732-2.179 0-3.946-0.571-6-1.179-0.429-0.125-1.071-0.054-1.536-0.107-1.089 1.196-3.75 1.518-5.286 1.518-1.357 0-6.607-0.089-6.607-2.411 0-1 0.214-1.286 0.911-1.929 0.554-0.107 0.964-0.411 1.607-0.446 0.089 0 0.161-0.018 0.25-0.036 0.018-0.018 0.036-0.018 0.036-0.071l-0.036-0.054c-1.232-0.286-2.964-3.393-3.232-4.679l-0.089-0.054c-0.125 0-0.179 0.268-0.214 0.357-0.393 0.911-1.321 1.893-2.357 2h-0.018c-0.143 0-0.089-0.143-0.196-0.179-0.25-0.589-0.411-1.125-0.411-1.786 0-3.571 1.714-6.214 4.5-8.321z"></path>
            </svg>
        </a>
        <a href="javascript:void(0)"
           class="user__site" title="cjz5989">
            <svg viewBox="0 0 32 32" width="100%" height="100%">
                <path d="M9.062 9.203c0-0.859-0.562-1.422-1.422-1.422-0.844 0-1.703 0.562-1.703 1.422 0 0.844 0.859 1.406 1.703 1.406 0.859 0 1.422-0.562 1.422-1.406zM20.672 17.125c0-0.562-0.562-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.859 0 1.422-0.562 1.422-1.141zM16.984 9.203c0-0.859-0.562-1.422-1.406-1.422-0.859 0-1.703 0.562-1.703 1.422 0 0.844 0.844 1.406 1.703 1.406 0.844 0 1.406-0.562 1.406-1.406zM26.906 17.125c0-0.562-0.578-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.844 0 1.422-0.562 1.422-1.141zM22.75 10.922c-0.359-0.047-0.719-0.063-1.094-0.063-5.375 0-9.625 4.016-9.625 8.953 0 0.828 0.125 1.625 0.359 2.375-0.359 0.031-0.703 0.047-1.063 0.047-1.422 0-2.547-0.281-3.969-0.562l-3.953 1.984 1.125-3.406c-2.828-1.984-4.531-4.547-4.531-7.656 0-5.391 5.094-9.625 11.328-9.625 5.563 0 10.453 3.391 11.422 7.953zM32 19.687c0 2.547-1.688 4.813-3.969 6.516l0.859 2.828-3.109-1.703c-1.141 0.281-2.281 0.578-3.406 0.578-5.391 0-9.625-3.688-9.625-8.219s4.234-8.219 9.625-8.219c5.094 0 9.625 3.688 9.625 8.219z"></path>
            </svg>
        </a>
                <a rel="alternate" href="https://cuijianzhe.github.io/rss.xml">
                    RSS
                </a>

            </div>
        </nav>
    </header>
    <div class="article__top">
        <div class="fn__clear">
            <div class="toc fn__none" onclick="$('.post__toc').slideToggle()">目录</div>
            <div class="title fn__pointer" onclick="Util.goTop()">Scrapy学习</div>
<div class="article__share"
     data-title="Scrapy学习"
     data-blogtitle="邯城往事"
     data-url="https://cuijianzhe.github.io/articles/2019/11/08/1573185139639.html"
     data-avatar="https://img.hacpai.com/avatar/1551626533851_1579241477243.png?imageView2/1/w/128/h/128/interlace/0/q/100">
    <span class="item" data-type="qqz">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M22.824 13.989l-8.348 6.287s3.351 0.522 8.404 0.461l-0.23-1.040 7.2-6.549c0.132-0.12 0.183-0.312 0.129-0.487s-0.203-0.299-0.377-0.314l-9.492-0.856-3.708-9.213c-0.068-0.169-0.226-0.279-0.401-0.279s-0.333 0.11-0.401 0.279l-3.708 9.213-9.492 0.856c-0.174 0.015-0.323 0.139-0.377 0.314s-0.004 0.366 0.129 0.487l7.2 6.549-2.158 9.742c-0.040 0.178 0.026 0.365 0.168 0.474 0.142 0.107 0.331 0.115 0.481 0.021l8.158-5.165 8.158 5.165c0.070 0.045 0.147 0.066 0.225 0.066 0.090 0 0.18-0.029 0.256-0.086 0.142-0.109 0.208-0.295 0.168-0.474l-1.707-7.704c0.732-0.386 1.538-1.040 1.538-1.040s-3.195 1.638-14.664 0.838l8.312-6.325s-0.327-0.534-10.744-0.914c-0.697-0.026 8.493-1.83 15.281-0.305z"></path>
        </svg>
    </span>
    <span class="item" data-type="wechat">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M9.062 9.203c0-0.859-0.562-1.422-1.422-1.422-0.844 0-1.703 0.562-1.703 1.422 0 0.844 0.859 1.406 1.703 1.406 0.859 0 1.422-0.562 1.422-1.406zM20.672 17.125c0-0.562-0.562-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.859 0 1.422-0.562 1.422-1.141zM16.984 9.203c0-0.859-0.562-1.422-1.406-1.422-0.859 0-1.703 0.562-1.703 1.422 0 0.844 0.844 1.406 1.703 1.406 0.844 0 1.406-0.562 1.406-1.406zM26.906 17.125c0-0.562-0.578-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.844 0 1.422-0.562 1.422-1.141zM22.75 10.922c-0.359-0.047-0.719-0.063-1.094-0.063-5.375 0-9.625 4.016-9.625 8.953 0 0.828 0.125 1.625 0.359 2.375-0.359 0.031-0.703 0.047-1.063 0.047-1.422 0-2.547-0.281-3.969-0.562l-3.953 1.984 1.125-3.406c-2.828-1.984-4.531-4.547-4.531-7.656 0-5.391 5.094-9.625 11.328-9.625 5.563 0 10.453 3.391 11.422 7.953zM32 19.687c0 2.547-1.688 4.813-3.969 6.516l0.859 2.828-3.109-1.703c-1.141 0.281-2.281 0.578-3.406 0.578-5.391 0-9.625-3.688-9.625-8.219s4.234-8.219 9.625-8.219c5.094 0 9.625 3.688 9.625 8.219z"></path>
        </svg>
    </span>
    <span class="item" data-type="weibo">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M13.444 27.064c-5.3 0.525-9.875-1.875-10.219-5.35-0.344-3.481 3.675-6.719 8.969-7.244 5.3-0.525 9.875 1.875 10.212 5.35 0.35 3.481-3.669 6.725-8.963 7.244zM24.038 15.521c-0.45-0.137-0.762-0.225-0.525-0.819 0.512-1.287 0.563-2.394 0.006-3.188-1.038-1.481-3.881-1.406-7.137-0.037 0 0-1.025 0.444-0.762-0.363 0.5-1.613 0.425-2.956-0.356-3.737-1.769-1.769-6.469 0.069-10.5 4.1-3.013 3.006-4.763 6.212-4.763 8.981 0 5.287 6.787 8.506 13.425 8.506 8.7 0 14.494-5.056 14.494-9.069 0-2.431-2.044-3.806-3.881-4.375z"></path>
            <path d="M29.819 5.833c-2.1-2.331-5.2-3.219-8.063-2.612v0c-0.663 0.144-1.081 0.794-0.938 1.45 0.144 0.662 0.788 1.081 1.45 0.938 2.038-0.431 4.238 0.2 5.731 1.856s1.9 3.913 1.256 5.888v0c-0.206 0.644 0.144 1.331 0.788 1.544 0.644 0.206 1.331-0.144 1.544-0.787v-0.006c0.9-2.762 0.331-5.938-1.769-8.269z"></path>
            <path d="M26.588 8.752c-1.025-1.138-2.538-1.569-3.925-1.269-0.569 0.119-0.931 0.688-0.813 1.256 0.125 0.569 0.688 0.931 1.25 0.806v0c0.681-0.144 1.419 0.069 1.919 0.619 0.5 0.556 0.637 1.313 0.419 1.975v0c-0.175 0.55 0.125 1.15 0.681 1.331 0.556 0.175 1.15-0.125 1.331-0.681 0.438-1.356 0.163-2.906-0.863-4.037z"></path>
            <path d="M13.738 20.771c-0.188 0.319-0.594 0.469-0.912 0.337-0.319-0.125-0.412-0.488-0.231-0.794 0.188-0.306 0.581-0.456 0.894-0.337 0.313 0.113 0.425 0.469 0.25 0.794zM12.044 22.933c-0.512 0.819-1.613 1.175-2.438 0.8-0.813-0.369-1.056-1.319-0.544-2.119 0.506-0.794 1.569-1.15 2.388-0.806 0.831 0.356 1.1 1.3 0.594 2.125zM13.969 17.146c-2.519-0.656-5.369 0.6-6.463 2.819-1.119 2.262-0.037 4.781 2.506 5.606 2.638 0.85 5.75-0.456 6.831-2.894 1.069-2.394-0.262-4.85-2.875-5.531z"></path>
        </svg>
    </span>
    <span class="item" data-type="twitter">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M32.003 6.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
        </svg>
    </span>
    <span class="item__qr"></span>
</div>        </div>
        <progress class="article__progress"></progress>
    </div>
    <div class="article">
        <div class="ft__center">
            <div class="item__meta">
                <time>
                    2019-11-15
                </time>
                /
                    <a class="tag" rel="tag"
                       href="https://cuijianzhe.github.io/tags/python">python</a> &nbsp;
            </div>
            <h2 class="item__title">
                Scrapy学习
            </h2>
        </div>
        <div class="item__cover" style="background-image: url(https://img.hacpai.com/file/2019/11/image-c9550901.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100)"></div>
        <div class="wrapper">
            <section class="item__content item__content--article vditor-reset">
                <h1 id="环境安装">环境安装</h1>
<h2 id="scrapy安装"><a href="https://docs.scrapy.org/en/latest/intro/install.html" target="_blank">scrapy 安装</a></h2>
<ul>
<li>安装依赖：<br>
1.<a href="https://docs.scrapy.org/en/latest/faq.html#scrapy-crashes-with-importerror-no-module-named-win32api" target="_blank">pywin32</a></li>
</ul>
<pre><code class="highlight-chroma">pip install pywin32
</code></pre>
<ol start="2">
<li>安装 <strong>Twisted</strong></li>
</ol>
<pre><code class="highlight-chroma">pip install Twisted
</code></pre>
<p class="indent--2">查看版本：</p>
<pre><code class="highlight-chroma">C:\Users\cjz&gt;python -m scrapy version
Scrapy 1.8.0
</code></pre>
<h2 id="创建工程项目"><a href="https://docs.scrapy.org/en/latest/intro/tutorial.html" target="_blank">创建工程项目</a></h2>
<pre><code class="highlight-chroma">D:\python_cuijianzhe&gt;scrapy startproject scrapy_test
New Scrapy project 'scrapy_test', using template directory 'd:\programs\python\python37\lib\site-packages\scrapy\templates\project', created in:
    D:\python_cuijianzhe\scrapy_test

You can start your first spider with:
    cd scrapy_test
    scrapy genspider example example.com
</code></pre>
<p class="indent--2">查看 scrapy 创建的文件：</p>
<pre><code class="highlight-chroma">D:\python_cuijianzhe&gt;tree /f

└─scrapy_test
    │  scrapy.cfg      #配置文件
    │
    └─scrapy_test     #工程模块
        │  items.py      
        │  middlewares.py    #定义数据条目的定义，可以理解为一行记录
        │  pipelines.py      #定义数据导出类，用于数据导出
        │  settings.py       #工程设置文件
        │  __init__.py       #空文件
        │
        ├─spiders        #爬虫目录
        │  │  __init__.py     #空文件
        │  │
        │  └─__pycache__
        └─__pycache__
</code></pre>
<h2 id="创建爬虫"><a href="https://docs.scrapy.org/en/latest/intro/tutorial.html" target="_blank">创建爬虫</a></h2>
<h3 id="创建爬虫代码"><a href="https://docs.scrapy.org/en/latest/intro/tutorial.html#our-first-spider" target="_blank">创建爬虫代码</a></h3>
<p class="indent--2">在 scrapy_test 项目中的目录 spiders 中创建文件 quotes_spider.py</p>
<pre><code class="language-python highlight-chroma"><span class="highlight-kn">import</span> <span class="highlight-nn">scrapy</span>
<span class="highlight-k">class</span> <span class="highlight-nc">QuotesSpider</span><span class="highlight-p">(</span><span class="highlight-n">scrapy</span><span class="highlight-o">.</span><span class="highlight-n">Spider</span><span class="highlight-p">):</span>
    <span class="highlight-n">name</span> <span class="highlight-o">=</span> <span class="highlight-s2">"quotes"</span>

    <span class="highlight-k">def</span> <span class="highlight-nf">start_requests</span><span class="highlight-p">(</span><span class="highlight-bp">self</span><span class="highlight-p">):</span>
        <span class="highlight-n">urls</span> <span class="highlight-o">=</span> <span class="highlight-p">[</span>
            <span class="highlight-s1">'http://quotes.toscrape.com/page/1/'</span><span class="highlight-p">,</span>
            <span class="highlight-s1">'http://quotes.toscrape.com/page/2/'</span><span class="highlight-p">,</span>
        <span class="highlight-p">]</span>
        <span class="highlight-k">for</span> <span class="highlight-n">url</span> <span class="highlight-ow">in</span> <span class="highlight-n">urls</span><span class="highlight-p">:</span>
            <span class="highlight-k">yield</span> <span class="highlight-n">scrapy</span><span class="highlight-o">.</span><span class="highlight-n">Request</span><span class="highlight-p">(</span><span class="highlight-n">url</span><span class="highlight-o">=</span><span class="highlight-n">url</span><span class="highlight-p">,</span> <span class="highlight-n">callback</span><span class="highlight-o">=</span><span class="highlight-bp">self</span><span class="highlight-o">.</span><span class="highlight-n">parse</span><span class="highlight-p">)</span>

    <span class="highlight-k">def</span> <span class="highlight-nf">parse</span><span class="highlight-p">(</span><span class="highlight-bp">self</span><span class="highlight-p">,</span> <span class="highlight-n">response</span><span class="highlight-p">):</span>
        <span class="highlight-n">page</span> <span class="highlight-o">=</span> <span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">url</span><span class="highlight-o">.</span><span class="highlight-n">split</span><span class="highlight-p">(</span><span class="highlight-s2">"/"</span><span class="highlight-p">)[</span><span class="highlight-o">-</span><span class="highlight-mi">2</span><span class="highlight-p">]</span>
        <span class="highlight-n">filename</span> <span class="highlight-o">=</span> <span class="highlight-s1">'quotes-</span><span class="highlight-si">%s</span><span class="highlight-s1">.html'</span> <span class="highlight-o">%</span> <span class="highlight-n">page</span>
        <span class="highlight-k">with</span> <span class="highlight-nb">open</span><span class="highlight-p">(</span><span class="highlight-n">filename</span><span class="highlight-p">,</span> <span class="highlight-s1">'wb'</span><span class="highlight-p">)</span> <span class="highlight-k">as</span> <span class="highlight-n">f</span><span class="highlight-p">:</span>
            <span class="highlight-n">f</span><span class="highlight-o">.</span><span class="highlight-n">write</span><span class="highlight-p">(</span><span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">body</span><span class="highlight-p">)</span>
        <span class="highlight-bp">self</span><span class="highlight-o">.</span><span class="highlight-n">log</span><span class="highlight-p">(</span><span class="highlight-s1">'Saved file </span><span class="highlight-si">%s</span><span class="highlight-s1">'</span> <span class="highlight-o">%</span> <span class="highlight-n">filename</span><span class="highlight-p">)</span>
</code></pre>
<p class="indent--2">我们的 Spider 子类 scrapy.Spider 并定义了一些属性和方法：</p>
<ul>
<li>name:识别蜘蛛。它在项目中必须是唯一的，也就是说，不能为不同的蜘蛛设置相同的名称</li>
<li>start_requests():必须返回蜘蛛将开始从中爬行的请求的 iterable（您可以返回请求列表或编写生成器函数）。随后的请求将从这些初始请求中依次生成。</li>
<li>parse():将调用的方法，用于处理为每个请求下载的响应。response 参数是 textreponse 的一个实例，它保存页面内容，并有其他有用的方法来处理它。<br>
parse（）默认处理 response 流的方法，通常会返回一个 item 或者 dict 给 pipeline。</li>
</ul>
<h2 id="运行爬虫"><a href="https://docs.scrapy.org/en/latest/intro/tutorial.html#how-to-run-our-spider" target="_blank">运行爬虫</a></h2>
<p class="indent--2">这个命令使用我们刚刚添加引号的名字 <code>name = "quotes"</code> 运行 spider，它将发送一些对 quotes.toscrape.com 的请求。将得到如下输出：</p>
<pre><code class="highlight-chroma">D:\python_cuijianzhe\scrapy_test&gt;scrapy crawl quotes
2019-11-08 14:16:33 [scrapy.utils.log] INFO: Scrapy 1.8.0 started (bot: scrapy_test)
2019-11-08 14:16:33 [scrapy.utils.log] INFO: Versions: lxml 4.4.1.0, libxml2 2.9.5, cssselect 1.1.0, parsel 1.5.2, w3lib 1.21.0, Twisted 19.7.0, Python 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20)
[MSC v.1916 64 bit (AMD64)], pyOpenSSL 19.0.0 (OpenSSL 1.1.1d  10 Sep 2019), cryptography 2.8, Platform Windows-10-10.0.18362-SP0
2019-11-08 14:16:33 [scrapy.crawler] INFO: Overridden settings: {'BOT_NAME': 'scrapy_test', 'NEWSPIDER_MODULE': 'scrapy_test.spiders', 'ROBOTSTXT_OBEY': True, 'SPIDER_MODULES': ['scrapy_test.spiders']}
2019-11-08 14:16:33 [scrapy.extensions.telnet] INFO: Telnet Password: 118fc5b3a4cf7fef
2019-11-08 14:16:33 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.logstats.LogStats']
2019-11-08 14:16:33 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2019-11-08 14:16:33 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2019-11-08 14:16:33 [scrapy.middleware] INFO: Enabled item pipelines:
[]
2019-11-08 14:16:33 [scrapy.core.engine] INFO: Spider opened
2019-11-08 14:16:33 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2019-11-08 14:16:33 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023
2019-11-08 14:16:34 [scrapy.core.engine] DEBUG: Crawled (404) &lt;GET http://quotes.toscrape.com/robots.txt&gt; (referer: None)
2019-11-08 14:16:35 [scrapy.core.engine] DEBUG: Crawled (200) &lt;GET http://quotes.toscrape.com/page/1/&gt; (referer: None)
2019-11-08 14:16:35 [quotes] DEBUG: Saved file quotes-1.html
2019-11-08 14:16:35 [scrapy.core.engine] DEBUG: Crawled (200) &lt;GET http://quotes.toscrape.com/page/2/&gt; (referer: None)
2019-11-08 14:16:35 [quotes] DEBUG: Saved file quotes-2.html
2019-11-08 14:16:35 [scrapy.core.engine] INFO: Closing spider (finished)
2019-11-08 14:16:35 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
...
2019-11-08 14:16:35 [scrapy.core.engine] INFO: Spider closed (finished)
</code></pre>
<p class="indent--2">运行爬虫后， 会提示一堆的信息，主要是完成以下几个部分工作：</p>
<ul>
<li>启动爬虫引擎</li>
<li>加载设置文件</li>
<li>启用扩展</li>
<li>启用下载中间件</li>
<li>启用爬虫中间件</li>
<li>启动 pipeline</li>
<li>爬虫启动，开始工作</li>
<li>爬虫结束， 引擎收集统计信息，清理工作</li>
</ul>
<p class="indent--2">现在，检查当前目录中的文件。已经创建了两个新文件：quotes-1.html 和 quotes-2.html，其中包含了各自 url 的内容，正如我们的解析方法。<br>
<img src="https://img.hacpai.com/file/2019/11/image-c9550901.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="image.png"></p>
<h3 id="启动爬虫请求的快捷方式-CSS-">启动爬虫请求的快捷方式(CSS)</h3>
<pre><code class="highlight-chroma">D:\python_cuijianzhe\scrapy_test&gt;scrapy shell "http://quotes.toscrape.com/page/1/"
2019-11-08 14:27:53 [scrapy.utils.log] INFO: Scrapy 1.8.0 started (bot: scrapy_test)
2019-11-08 14:27:53 [scrapy.utils.log] INFO: Versions: lxml 4.4.1.0, libxml2 2.9.5, cssselect 1.1.0, parsel 1.5.2, w3lib 1.21.0, Twisted 19.7.0, Python 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20)
...
</code></pre>
<p class="indent--2">使用 shell，可以尝试使用 CSS 和 response 对象选择元素：</p>
<pre><code class="highlight-chroma">In [1]: response.css('title')
Out[1]: [&lt;Selector xpath='descendant-or-self::title' data='&lt;title&gt;Quotes to Scrape&lt;/title&gt;'&gt;]
</code></pre>
<p class="indent--2">运行 response.css（'title'）的结果是一个名为 <code>Selector list</code> 的类似列表的对象，它表示一个 Selector 对象列表，这些对象环绕 XML/HTML 元素，并允许运行进一步的查询来细化选择或提取数据。</p>
<pre><code class="highlight-chroma">In [2]: response.css('title::text').getall()
Out[2]: ['Quotes to Scrape']
</code></pre>
<p class="indent--2">这里有两件事需要注意：<br>
一是我们在 CSS 查询中添加了 <code>::text</code> ，这意味着我们只想直接在<title>元素中选择文本元素。</title><br>
如果我们不指定 <code>::text</code> ，我们将得到完整的 <code>title</code> 元素，包括它的标记：</p>
<pre><code class="highlight-chroma">In [3]:  response.css('title').getall()
Out[3]: ['&lt;title&gt;Quotes to Scrape&lt;/title&gt;']
</code></pre>
<p class="indent--2">另一个是，调用 <code>.getall()</code> 的结果是一个列表：选择器可能返回多个结果，因此我们将它们全部提取出来。当你知道你只想得到第一个结果时，在这种情况下，可以使用：</p>
<pre><code class="highlight-chroma">In [4]: response.css('title::text').get()
Out[4]: 'Quotes to Scrape'
</code></pre>
<p class="indent--2">另外，可以这么写：</p>
<pre><code class="highlight-chroma">In [5]: response.css('title::text')[0].get()
Out[5]: 'Quotes to Scrape'
</code></pre>
<ul>
<li>除了 getall()和 get()方法外，还可以使用 re()方法使用正则表达式提取：</li>
</ul>
<pre><code class="highlight-chroma">In [6]: response.css('title::text').re(r'Quotes.*')
Out[6]: ['Quotes to Scrape']

In [7]: response.css('title::text').re(r'Q\w+')
Out[7]: ['Quotes']

In [8]: response.css('title::text').re(r'(\w+) to (\w+)')
Out[8]: ['Quotes', 'Scrape']
</code></pre>
<h2 id="XPath-简介"><a href="https://docs.scrapy.org/en/latest/intro/tutorial.html#xpath-a-brief-intro" target="_blank">XPath：简介</a></h2>
<p class="indent--2"><a href="https://docs.scrapy.org/en/latest/topics/selectors.html#topics-selectors" target="_blank">参考 Xpath 实例</a><br>
除了 CSS，Scrapy 选择器还支持使用 XPath 表达式：</p>
<pre><code class="highlight-chroma">In [9]: response.xpath('//title')
Out[9]: [&lt;Selector xpath='//title' data='&lt;title&gt;Quotes to Scrape&lt;/title&gt;'&gt;]

In [10]: response.xpath('//title/text()').get()
Out[10]: 'Quotes to Scrape'
</code></pre>
<h3 id="抽取引用和作者">抽取引用和作者</h3>
<p class="indent--2">既然您已经对选择和提取有了一些了解，那么让我们通过编写代码从 Web 页面提取引号来完成 spider。</p>
<p class="indent--2"><a href="http://quotes.toscrape.com" target="_blank">http://quotes.toscrape.com</a> 中的每个引号都由如下所示的 HTML 元素表示：<br>
<img src="https://img.hacpai.com/file/2019/11/image-4a907c6a.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="image.png"></p>
<pre><code class="highlight-chroma">&lt;div class="quote" itemscope="" itemtype="http://schema.org/CreativeWork"&gt;
        &lt;span class="text" itemprop="text"&gt;“The world as we have created it is a process of our thinking. It cannot be changed without changing our thinking.”&lt;/span&gt;
        &lt;span&gt;by &lt;small class="author" itemprop="author"&gt;Albert Einstein&lt;/small&gt;
        &lt;a href="/author/Albert-Einstein"&gt;(about)&lt;/a&gt;
        &lt;/span&gt;
        &lt;div class="tags"&gt;
            Tags:
            &lt;meta class="keywords" itemprop="keywords" content="change,deep-thoughts,thinking,world"&gt; 
            
            &lt;a class="tag" href="/tag/change/page/1/"&gt;change&lt;/a&gt;
            
            &lt;a class="tag" href="/tag/deep-thoughts/page/1/"&gt;deep-thoughts&lt;/a&gt;
            
            &lt;a class="tag" href="/tag/thinking/page/1/"&gt;thinking&lt;/a&gt;
            
            &lt;a class="tag" href="/tag/world/page/1/"&gt;world&lt;/a&gt;
            
        &lt;/div&gt;
    &lt;/div&gt;
</code></pre>
<p class="indent--2">让我们打开 scrapy shell 并输出数据，了解如何提取所需的数据：</p>
<pre><code class="highlight-chroma">D:\python_cuijianzhe\scrapy_test&gt;scrapy shell "http://quotes.toscrape.com"
2019-11-08 14:51:13 [scrapy.utils.log] INFO: Scrapy 1.8.0 started (bot: scrapy_test)
2019-11-08 14:51:13 [scrapy.utils.log] INFO: Versions: lxml 4.4.1.0, libxml2 2.9.5, cssselect 1.1.0, parsel 1.5.2, w3lib 1.21.0, Twisted 19.7.0, Python 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20)
[MSC v.1916 64 bit (AMD64)], pyOpenSSL 19.0.0 (OpenSSL 1.1.1d  10 Sep 2019), cryptography 2.8, Platform Windows-10-10.0.18362-SP0
2019-11-08 14:51:13 [scrapy.crawler] INFO: Overridden settings: {'BOT_NAME': 'scrapy_test', 'DUPEFILTER_CLASS': 'scrapy.dupefilters.BaseDupeFilter', 'LOGSTATS_INTERVAL': 0, 'NEWSPIDER_MODULE': 'scrapy_test.
spiders', 'ROBOTSTXT_OBEY': True, 'SPIDER_MODULES': ['scrapy_test.spiders']}
2019-11-08 14:51:13 [scrapy.extensions.telnet] INFO: Telnet Password: b9273deb5a53cb00
2019-11-08 14:51:13 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole']
2019-11-08 14:51:13 [scrapy.middleware] INFO: Enabled downloader middlewares:
...
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2019-11-08 14:51:13 [scrapy.middleware] INFO: Enabled item pipelines:
[]
2019-11-08 14:51:13 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023
2019-11-08 14:51:13 [scrapy.core.engine] INFO: Spider opened
2019-11-08 14:51:14 [scrapy.core.engine] DEBUG: Crawled (404) &lt;GET http://quotes.toscrape.com/robots.txt&gt; (referer: None)
2019-11-08 14:51:14 [scrapy.core.engine] DEBUG: Crawled (200) &lt;GET http://quotes.toscrape.com&gt; (referer: None)
...
</code></pre>
<p class="indent--2">我们得到了 quote HTML 元素的选择器列表，其中包含：</p>
<pre><code class="highlight-chroma">In [1]: response.css("div.quote")
Out[1]: 
[&lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;,
 &lt;Selector xpath="descendant-or-self::div[@class and contains(concat(' ', normalize-space(@class), ' '), ' quote ')]" data='&lt;div class="quote" itemscope itemtype...'&gt;]
</code></pre>
<p class="indent--2">上面查询返回的每个选择器都允许我们对其子元素运行进一步的查询。让我们将第一个选择器分配给一个变量，这样就可以直接在特定的引号上运行 CSS 选择器：</p>
<pre><code class="highlight-chroma">In [2]: quote = response.css("div.quote")[0]
</code></pre>
<p class="indent--2">现在，使用刚刚创建的 quote 对象从该 quote 中提取 <code>text</code>、<code>author</code> 和 <code>tags</code>：</p>
<pre><code class="highlight-chroma">In [3]: text = quote.css("span.text::text").get()

In [4]: text
Out[4]: '“The world as we have created it is a process of our thinking. It cannot be changed without changing our thinking.”'
In [5]: author = quote.css("small.author::text").get()

In [6]: author
Out[6]: 'Albert Einstein'
</code></pre>
<p class="indent--2">鉴于 <code>tags</code> 是字符串列表，我们可以使用 <code>.getall()</code> 方法获取所有 <code>tags</code>：</p>
<pre><code class="highlight-chroma">In [7]: tags = quote.css("div.tags a.tag::text").getall()

In [8]: tags
Out[8]: ['change', 'deep-thoughts', 'thinking', 'world']
</code></pre>
<p class="indent--2">在知道如何提取每个位之后，现在可以遍历所有引号元素，并将它们放在一个 Python 字典中：</p>
<pre><code class="highlight-chroma">In [9]: for quote in response.css("div.quote"):
   ...:     text = quote.css("span.text::text").get()
   ...:     author = quote.css("small.author::text").get()
   ...:     tags = quote.css("div.tags a.tag::text").getall()
   ...:     print(dict(text=text, author=author, tags=tags))
   ...: 
{'text': '“The world as we have created it is a process of our thinking. It cannot be changed without changing our thinking.”', 'author': 'Albert Einstein', 'tags': ['change', 'deep-thoughts', 'thinking',
 'world']}
{'text': '“It is our choices, Harry, that show what we truly are, far more than our abilities.”', 'author': 'J.K. Rowling', 'tags': ['abilities', 'choices']}
{'text': '“There are only two ways to live your life. One is as though nothing is a miracle. The other is as though everything is a miracle.”', 'author': 'Albert Einstein', 'tags': ['inspirational', 'life
', 'live', 'miracle', 'miracles']}
{'text': '“The person, be it gentleman or lady, who has not pleasure in a good novel, must be intolerably stupid.”', 'author': 'Jane Austen', 'tags': ['aliteracy', 'books', 'classic', 'humor']}
{'text': "“Imperfection is beauty, madness is genius and it's better to be absolutely ridiculous than absolutely boring.”", 'author': 'Marilyn Monroe', 'tags': ['be-yourself', 'inspirational']}
{'text': '“Try not to become a man of success. Rather become a man of value.”', 'author': 'Albert Einstein', 'tags': ['adulthood', 'success', 'value']}
{'text': '“It is better to be hated for what you are than to be loved for what you are not.”', 'author': 'André Gide', 'tags': ['life', 'love']}
{'text': "“I have not failed. I've just found 10,000 ways that won't work.”", 'author': 'Thomas A. Edison', 'tags': ['edison', 'failure', 'inspirational', 'paraphrased']}
{'text': "“A woman is like a tea bag; you never know how strong it is until it's in hot water.”", 'author': 'Eleanor Roosevelt', 'tags': ['misattributed-eleanor-roosevelt']}
{'text': '“A day without sunshine is like, you know, night.”', 'author': 'Steve Martin', 'tags': ['humor', 'obvious', 'simile']}
</code></pre>
<h3 id="在scrapy中提取数据">在 scrapy 中提取数据</h3>
<p class="indent--2">Scrapy spider 通常生成许多字典，其中包含从页面提取的数据。为此，我们在回调中使用 <code>yield</code> Python 关键字，如下所示：</p>
<pre><code class="language-python highlight-chroma"><span class="highlight-kn">import</span> <span class="highlight-nn">scrapy</span>
<span class="highlight-k">class</span> <span class="highlight-nc">QuotesSpider</span><span class="highlight-p">(</span><span class="highlight-n">scrapy</span><span class="highlight-o">.</span><span class="highlight-n">Spider</span><span class="highlight-p">):</span>
    <span class="highlight-n">name</span> <span class="highlight-o">=</span> <span class="highlight-s2">"quotes"</span>
    <span class="highlight-n">start_urls</span> <span class="highlight-o">=</span> <span class="highlight-p">[</span>
        <span class="highlight-s1">'http://quotes.toscrape.com/page/1/'</span><span class="highlight-p">,</span>
        <span class="highlight-s1">'http://quotes.toscrape.com/page/2/'</span><span class="highlight-p">,</span>
    <span class="highlight-p">]</span>

    <span class="highlight-k">def</span> <span class="highlight-nf">parse</span><span class="highlight-p">(</span><span class="highlight-bp">self</span><span class="highlight-p">,</span> <span class="highlight-n">response</span><span class="highlight-p">):</span>
        <span class="highlight-k">for</span> <span class="highlight-n">quote</span> <span class="highlight-ow">in</span> <span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'div.quote'</span><span class="highlight-p">):</span>
            <span class="highlight-k">yield</span> <span class="highlight-p">{</span>
                <span class="highlight-s1">'text'</span><span class="highlight-p">:</span> <span class="highlight-n">quote</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'span.text::text'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">get</span><span class="highlight-p">(),</span>
                <span class="highlight-s1">'author'</span><span class="highlight-p">:</span> <span class="highlight-n">quote</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'small.author::text'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">get</span><span class="highlight-p">(),</span>
                <span class="highlight-s1">'tags'</span><span class="highlight-p">:</span> <span class="highlight-n">quote</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'div.tags a.tag::text'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">getall</span><span class="highlight-p">(),</span>
            <span class="highlight-p">}</span>
</code></pre>
<p class="indent--2">运行此 spider，它将输出提取的数据和日志：</p>
<pre><code class="highlight-chroma">D:\python_cuijianzhe\scrapy_test&gt;scrapy crawl quotes
2019-11-08 15:01:27 [scrapy.utils.log] INFO: Scrapy 1.8.0 started (bot: scrapy_test)
2019-11-08 15:01:27 [scrapy.utils.log] INFO: Versions: lxml 4.4.1.0, libxml2 2.9.5, cssselect 1.1.0, parsel 1.5.2, w3lib 1.21.0, Twisted 19.7.0, Python 3.7.4 (tags/v3.7.4:e09359112e, Jul  8 2019, 20:34:20)
[MSC v.1916 64 bit (AMD64)], pyOpenSSL 19.0.0 (OpenSSL 1.1.1d  10 Sep 2019), cryptography 2.8, Platform Windows-10-10.0.18362-SP0
2019-11-08 15:01:27 [scrapy.crawler] INFO: Overridden settings: {'BOT_NAME': 'scrapy_test', 'NEWSPIDER_MODULE': 'scrapy_test.spiders', 'ROBOTSTXT_OBEY': True, 'SPIDER_MODULES': ['scrapy_test.spiders']}
2019-11-08 15:01:27 [scrapy.extensions.telnet] INFO: Telnet Password: 4914bcc0ab6bc5c7
2019-11-08 15:01:27 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.logstats.LogStats']
2019-11-08 15:01:28 [scrapy.middleware] INFO: Enabled downloader middlewares:
...
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
...
2019-11-08 15:01:29 [scrapy.core.engine] INFO: Spider closed (finished)
</code></pre>
<h2 id="存储所抓取的数据-json数据-">存储所抓取的数据（JSON 数据）</h2>
<pre><code class="highlight-chroma">D:\python_cuijianzhe\scrapy_test&gt;scrapy crawl quotes -o quotes.json
D:\python_cuijianzhe\scrapy_test&gt;scrapy crawl quotes -o quotes.xml
D:\python_cuijianzhe\scrapy_test&gt;scrapy crawl quotes -o quotes.csv
D:\python_cuijianzhe\scrapy_test&gt;scrapy crawl quotes -o quotes.jl
</code></pre>
<h2 id="链接追踪">链接追踪</h2>
<p class="indent--2">既然知道了如何从页面中提取数据，那么看看如何跟踪页面中的链接</p>
<ul>
<li>第一件事是提取到我们要跟踪的页面的链接。检查我们的页面，我们可以看到有一个指向下一页的链接，其中包含以下标记：</li>
</ul>
<pre><code class="highlight-chroma">&lt;ul class="pager"&gt;                       
            &lt;li class="next"&gt;
                &lt;a href="/page/2/"&gt;Next &lt;span aria-hidden="true"&gt;→&lt;/span&gt;&lt;/a&gt;
            &lt;/li&gt;            
        &lt;/ul&gt;
</code></pre>
<p class="indent--2">我们可以试着从 shell 中提取出来：</p>
<pre><code class="highlight-chroma">In [1]: response.css('li.next a').get()
Out[1]: '&lt;a href="/page/2/"&gt;Next &lt;span aria-hidden="true"&gt;→&lt;/span&gt;&lt;/a&gt;'
</code></pre>
<p class="indent--2">这将获取锚定元素，但我们需要属性 <code>href</code>。为此，Scrapy 支持 CSS 扩展，允许您选择属性内容，如下所示：</p>
<pre><code class="highlight-chroma">In [2]: response.css('li.next a::attr(href)').get()
Out[2]: '/page/2/'
</code></pre>
<p class="indent--2">还有一个 attrib 属性可用（有关详细信息，请参见选择元素属性）：</p>
<pre><code class="highlight-chroma">In [3]:  response.css('li.next a').attrib['href']
Out[3]: '/page/2/'
</code></pre>
<ul>
<li>现在让我们看看我们的 spider 被修改为递归地跟随到下一页的链接，从中提取数据：</li>
</ul>
<pre><code class="language-python highlight-chroma"><span class="highlight-kn">import</span> <span class="highlight-nn">scrapy</span>
<span class="highlight-k">class</span> <span class="highlight-nc">QuotesSpider</span><span class="highlight-p">(</span><span class="highlight-n">scrapy</span><span class="highlight-o">.</span><span class="highlight-n">Spider</span><span class="highlight-p">):</span>
    <span class="highlight-n">name</span> <span class="highlight-o">=</span> <span class="highlight-s2">"quotes"</span>
    <span class="highlight-n">start_urls</span> <span class="highlight-o">=</span> <span class="highlight-p">[</span>
        <span class="highlight-s1">'http://quotes.toscrape.com/page/1/'</span><span class="highlight-p">,</span>
    <span class="highlight-p">]</span>

    <span class="highlight-k">def</span> <span class="highlight-nf">parse</span><span class="highlight-p">(</span><span class="highlight-bp">self</span><span class="highlight-p">,</span> <span class="highlight-n">response</span><span class="highlight-p">):</span>
        <span class="highlight-k">for</span> <span class="highlight-n">quote</span> <span class="highlight-ow">in</span> <span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'div.quote'</span><span class="highlight-p">):</span>
            <span class="highlight-k">yield</span> <span class="highlight-p">{</span>
                <span class="highlight-s1">'text'</span><span class="highlight-p">:</span> <span class="highlight-n">quote</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'span.text::text'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">get</span><span class="highlight-p">(),</span>
                <span class="highlight-s1">'author'</span><span class="highlight-p">:</span> <span class="highlight-n">quote</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'small.author::text'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">get</span><span class="highlight-p">(),</span>
                <span class="highlight-s1">'tags'</span><span class="highlight-p">:</span> <span class="highlight-n">quote</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'div.tags a.tag::text'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">getall</span><span class="highlight-p">(),</span>
            <span class="highlight-p">}</span>

        <span class="highlight-n">next_page</span> <span class="highlight-o">=</span> <span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'li.next a::attr(href)'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">get</span><span class="highlight-p">()</span>
        <span class="highlight-k">if</span> <span class="highlight-n">next_page</span> <span class="highlight-ow">is</span> <span class="highlight-ow">not</span> <span class="highlight-bp">None</span><span class="highlight-p">:</span>
            <span class="highlight-n">next_page</span> <span class="highlight-o">=</span> <span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">urljoin</span><span class="highlight-p">(</span><span class="highlight-n">next_page</span><span class="highlight-p">)</span>
            <span class="highlight-k">yield</span> <span class="highlight-n">scrapy</span><span class="highlight-o">.</span><span class="highlight-n">Request</span><span class="highlight-p">(</span><span class="highlight-n">next_page</span><span class="highlight-p">,</span> <span class="highlight-n">callback</span><span class="highlight-o">=</span><span class="highlight-bp">self</span><span class="highlight-o">.</span><span class="highlight-n">parse</span><span class="highlight-p">)</span>
</code></pre>
<p class="indent--2">代码简介：<br>
next_page 是我们从页面提取的下一页的网址，然后 urljoin 去拼接完整 url，然后使用 request 去请求下一页，还是使用 parse 去解析响应流，当然我们可以在写一个 parse 的。</p>
<p class="indent--2">这段代码执行后发现后面几页全部住取出来了<br>
<img src="https://img.hacpai.com/file/2019/11/image-51491f18.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="image.png"></p>
<h2 id="给爬虫使用spider参数">给爬虫使用 spider 参数</h2>
<p class="indent--2">代码示例：</p>
<pre><code class="language-python highlight-chroma"><span class="highlight-kn">import</span> <span class="highlight-nn">scrapy</span>
<span class="highlight-k">class</span> <span class="highlight-nc">QuotesSpider</span><span class="highlight-p">(</span><span class="highlight-n">scrapy</span><span class="highlight-o">.</span><span class="highlight-n">Spider</span><span class="highlight-p">):</span>
    <span class="highlight-n">name</span> <span class="highlight-o">=</span> <span class="highlight-s2">"quotes"</span>
    <span class="highlight-k">def</span> <span class="highlight-nf">start_requests</span><span class="highlight-p">(</span><span class="highlight-bp">self</span><span class="highlight-p">):</span>
        <span class="highlight-n">url</span> <span class="highlight-o">=</span> <span class="highlight-s1">'http://quotes.toscrape.com/'</span>
        <span class="highlight-n">tag</span> <span class="highlight-o">=</span> <span class="highlight-nb">getattr</span><span class="highlight-p">(</span><span class="highlight-bp">self</span><span class="highlight-p">,</span> <span class="highlight-s1">'tag'</span><span class="highlight-p">,</span> <span class="highlight-bp">None</span><span class="highlight-p">)</span>
        <span class="highlight-k">if</span> <span class="highlight-n">tag</span> <span class="highlight-ow">is</span> <span class="highlight-ow">not</span> <span class="highlight-bp">None</span><span class="highlight-p">:</span>
            <span class="highlight-n">url</span> <span class="highlight-o">=</span> <span class="highlight-n">url</span> <span class="highlight-o">+</span> <span class="highlight-s1">'tag/'</span> <span class="highlight-o">+</span> <span class="highlight-n">tag</span>
        <span class="highlight-k">yield</span> <span class="highlight-n">scrapy</span><span class="highlight-o">.</span><span class="highlight-n">Request</span><span class="highlight-p">(</span><span class="highlight-n">url</span><span class="highlight-p">,</span> <span class="highlight-bp">self</span><span class="highlight-o">.</span><span class="highlight-n">parse</span><span class="highlight-p">)</span>
    <span class="highlight-k">def</span> <span class="highlight-nf">parse</span><span class="highlight-p">(</span><span class="highlight-bp">self</span><span class="highlight-p">,</span> <span class="highlight-n">response</span><span class="highlight-p">):</span>
        <span class="highlight-k">for</span> <span class="highlight-n">quote</span> <span class="highlight-ow">in</span> <span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'div.quote'</span><span class="highlight-p">):</span>
            <span class="highlight-k">yield</span> <span class="highlight-p">{</span>
                <span class="highlight-s1">'text'</span><span class="highlight-p">:</span> <span class="highlight-n">quote</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'span.text::text'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">get</span><span class="highlight-p">(),</span>
                <span class="highlight-s1">'author'</span><span class="highlight-p">:</span> <span class="highlight-n">quote</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'small.author::text'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">get</span><span class="highlight-p">(),</span>
            <span class="highlight-p">}</span>
        <span class="highlight-n">next_page</span> <span class="highlight-o">=</span> <span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">css</span><span class="highlight-p">(</span><span class="highlight-s1">'li.next a::attr(href)'</span><span class="highlight-p">)</span><span class="highlight-o">.</span><span class="highlight-n">get</span><span class="highlight-p">()</span>
        <span class="highlight-k">if</span> <span class="highlight-n">next_page</span> <span class="highlight-ow">is</span> <span class="highlight-ow">not</span> <span class="highlight-bp">None</span><span class="highlight-p">:</span>
            <span class="highlight-k">yield</span> <span class="highlight-n">response</span><span class="highlight-o">.</span><span class="highlight-n">follow</span><span class="highlight-p">(</span><span class="highlight-n">next_page</span><span class="highlight-p">,</span> <span class="highlight-bp">self</span><span class="highlight-o">.</span><span class="highlight-n">parse</span><span class="highlight-p">)</span>
</code></pre>
<p class="indent--2">这些参数被传递给 Spider 的__init__方法，并在默认情况下成为 Spider 属性。<br>
在本例中，为 tag 参数提供的值可以通过 self.tag 获得。您可以使用此选项使爬行器仅获取带有特定标记的引号，并基于参数构建 URL：</p>
<p class="indent--2">通过在运行 spider 时使用-a 选项，可以为它们提供命令行参数：</p>
<pre><code class="highlight-chroma">&lt;a class="tag" href="/tag/choices/page/1/"&gt;choices&lt;/a&gt;  
</code></pre>
<pre><code class="highlight-chroma">D:\python_cuijianzhe\scrapy_test&gt;scrapy crawl quotes -o quotes-humor.json -a tag=choices  
</code></pre>
                    <div>
                        <hr>

标题：Scrapy学习<br>
作者：<a href="https://cuijianzhe.github.io" target="_blank">cuijianzhe</a><br>
地址：<a href="https://cuijianzhe.github.io/articles/2019/11/08/1573185139639.html" target="_blank">https://cuijianzhe.github.io/articles/2019/11/08/1573185139639.html</a><br>

<!-- 签名档内可使用 HTML、JavaScript -->
<br>
<span class="name">搭讪 你就破功了，老弟！</span>
<style>
.name{   
    font-size:30px;
    background-clip: border-box;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: #FF512F;
    font-weight: 650;
    text-shadow: 0px 0px 7px #ffd800;
    background-image: linear-gradient(90deg, #ffd800 0%, #ff512f 100%, #fff);
    animation: glow-animation 2s infinite linear;
    color: #FFC0CB;
    box-sizing: border-box;
    vertical-align: inherit;
}
@keyframes glow-animation{
    0%{filter:hue-rotate(-360deg)}
    100%{filter:hue-rotate(360deg)}
}
</style>

                    </div>
            </section>
        </div>
    </div>
        <div class="post__toc">
<ul class="article__toc">
        <li class="toc__h1">
            <a href="#环境安装">环境安装</a>
        </li>
        <li class="toc__h2">
            <a href="#scrapy安装">scrapy 安装</a>
        </li>
        <li class="toc__h2">
            <a href="#创建工程项目">创建工程项目</a>
        </li>
        <li class="toc__h2">
            <a href="#创建爬虫">创建爬虫</a>
        </li>
        <li class="toc__h3">
            <a href="#创建爬虫代码">创建爬虫代码</a>
        </li>
        <li class="toc__h2">
            <a href="#运行爬虫">运行爬虫</a>
        </li>
        <li class="toc__h3">
            <a href="#启动爬虫请求的快捷方式-CSS-">启动爬虫请求的快捷方式(CSS)</a>
        </li>
        <li class="toc__h2">
            <a href="#XPath-简介">XPath：简介</a>
        </li>
        <li class="toc__h3">
            <a href="#抽取引用和作者">抽取引用和作者</a>
        </li>
        <li class="toc__h3">
            <a href="#在scrapy中提取数据">在 scrapy 中提取数据</a>
        </li>
        <li class="toc__h2">
            <a href="#存储所抓取的数据-json数据-">存储所抓取的数据（JSON 数据）</a>
        </li>
        <li class="toc__h2">
            <a href="#链接追踪">链接追踪</a>
        </li>
        <li class="toc__h2">
            <a href="#给爬虫使用spider参数">给爬虫使用 spider 参数</a>
        </li>
</ul>        </div>
        <div id="gitalk-container" class="comment__wrapper wrapper" style="margin: 40px auto"></div>
        <div id="b3logsolocomments"></div>
        <div id="vcomment" class="comment__wrapper wrapper" style="margin: 40px auto" data-name="cuijianzhe" data-postId="1573185139639"></div>
    <div class="article__bottom">
        <div class="wrapper">
            <div class="fn__flex">
                    <div class="item" id="externalRelevantArticles"></div>
                <div class="item" id="randomArticles"></div>
                <div class="item" id="relevantArticles"></div>
            </div>
        </div>
    </div>
    
</div>
<footer class="footer">
    <div class="wrapper fn__clear">
        <div class="fn__left">
            <br>
            &copy; 2020
            <a href="https://cuijianzhe.github.io">邯城往事</a>
            <img style="width: 20px; height: 20px;" src="https://img.hacpai.com/file/2019/10/jinghuibeian-30e807bb.png" alt="备案标识" /><a href="http://beian.miit.gov.cn" target="_blank" rel="nofollow noopener">冀ICP备19005901号</a> 

<!--切换标签实现网页标题变化-->
<script type="text/javascript">
    /*自动刷新页面，避免无法访问*/
    var OriginTitile = document.title;
    var titleTime;
    document.addEventListener('visibilitychange', function () {
        if (document.hidden) {
            document.title = '一杯茶，一包烟，混过一天是一天';
            clearTimeout(titleTime);
        } else {
            document.title = '哈哈，我是大佬ヾ(ﾟ∀ﾟゞ)';
            titleTime = setTimeout(function () {
                document.title = OriginTitile;
            }, 3000);
        }
    });
</script>
<!--切换标签实现网页标题变化 结束-->

        </div>
        <div class="fn__right">
            <a href="https://cuijianzhe.github.io/tags.html" rel="section">
            标签墙
            </a>
            &nbsp;•&nbsp;
            <a href="https://cuijianzhe.github.io/archives.html">
            存档
            </a>
            &nbsp;•&nbsp;
            <a rel="archive" href="https://cuijianzhe.github.io/links.html">
            友链
            </a>
            <br>
            108 文章 &nbsp;
            <span data-uvstaturl="https://cuijianzhe.github.io">92571</span> 浏览 &nbsp;
            
        </div>
    </div>
</footer>

<script>
  var Label = {
    speech: true,
    servePath: "https://cuijianzhe.github.io",
    staticServePath: "https://cdn.jsdelivr.net/gh/88250/solo@fd76918/src/main/resources",
    luteAvailable: true,
    hljsStyle: 'monokai',
    langLabel: "zh_CN",
    version: "4.3.1",
    staticSite: true,
    showCodeBlockLn: false,
    articleId: "1573185139639",
  }
</script>
<script type="text/javascript"
        src="https://cdn.jsdelivr.net/gh/88250/solo@fd76918/src/main/resources/skins/Casper/js/common.min.js?1608803069102"
        charset="utf-8"></script>
<link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/kanbanniang@0.2.10/index.css"/>
<script async src="https://cdn.jsdelivr.net/npm/kanbanniang@0.2.10/index.js"></script>
<div class="solo-kanbanniang">
    <div class="solo-kanbanniang__tip"></div>
    <canvas id="soloKanbanniang" width="280" height="250"></canvas>
    <div class="solo-kanbanniang__tool">
        <svg id="soloKanbanniangHome" viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M32 18.967l-16-12.42-16 12.42v-5.064l16-12.42 16 12.42zM28 18.516v12h-8v-8h-8v8h-8v-12l12-9z"></path>
        </svg>
        <svg id="soloKanbanniangRSS" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M320.364 768q0 45.728-32 77.728t-77.728 32-77.728-32-32-77.728 32-77.728 77.728-32 77.728 32 32 77.728zM612.94 838.272q1.152 16-9.728 27.424-10.272 12-26.848 12h-77.152q-14.272 0-24.576-9.44t-11.424-23.712q-12.576-130.848-105.44-223.712t-223.712-105.44q-14.272-1.152-23.712-11.424t-9.44-24.576V402.24q0-16.576 12-26.848 9.728-9.728 24.576-9.728h2.848q91.424 7.424 174.848 46.016t148 103.712q65.152 64.576 103.712 148t46.016 174.848z m292.576 1.152q1.152 15.424-10.272 26.848-10.272 11.424-26.272 11.424h-81.728q-14.848 0-25.44-10.016t-11.136-24.288q-6.848-122.848-57.728-233.44t-132.288-192-192-132.288-233.44-58.272q-14.272-0.576-24.288-11.136t-10.016-24.864V109.664q0-16 11.424-26.272 10.272-10.272 25.152-10.272h1.728q149.728 7.424 286.56 68.576t243.136 168q106.848 106.272 168 243.136t68.576 286.56z"></path>
        </svg>
        <svg id="soloKanbanniangChat" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M802.42709 96.163153H219.476155c-84.48109 0-154.896836 71.746044-154.896836 157.840888v393.119449c0 86.072331 70.415746 157.819398 154.896836 157.819399h214.038818V925.470963s22.526039 40.168862 64.767096 5.734608c30.965246-25.819039 126.721123-91.828428 171.775248-123.385145h132.369773c84.502579 0 154.896836-83.21526 154.896836-157.839865V251.125481c0-86.094844-70.394257-154.962328-154.896836-154.962328zM301.144176 518.002714c-39.427988 0-70.416769-31.576159-70.416769-71.746044 0-40.168862 30.988782-71.746044 70.416769-71.746044 39.426965 0 70.393233 31.577183 70.393234 71.746044 0 40.169885-30.966269 71.746044-70.393234 71.746044z m208.411657 0c-39.450501 0-70.415746-31.576159-70.415746-71.746044 0-40.168862 30.965246-71.746044 70.415746-71.746044 39.405475 0 70.394257 31.577183 70.394257 71.746044 0 40.169885-30.988782 71.746044-70.394257 71.746044z m211.203236 0c-39.426965 0-70.416769-31.576159-70.416769-71.746044 0-40.168862 30.988782-71.746044 70.416769-71.746044s70.415746 31.577183 70.415746 71.746044c-0.001023 40.169885-30.988782 71.746044-70.415746 71.746044z"></path>
        </svg>
        <svg id="soloKanbanniangChange" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M936.672 193.216l-226.88-64c-8.704-2.528-18.112-1.12-25.824 3.776-7.68 4.864-12.896 12.736-14.432 21.728C655.712 236.928 595.328 288 512 288c-71.424 0-142.464-103.296-163.776-143.104-7.136-13.28-22.528-19.84-37.024-15.68l-224 64C73.472 197.152 64 209.728 64 224v256a31.93 31.93 0 0 0 11.712 24.736c7.392 6.08 17.152 8.512 26.56 6.624L224 487.04V832c0 52.928 43.072 96 96 96h384c52.928 0 96-43.072 96-96V519.04l121.728 24.352c9.44 1.92 19.2-0.544 26.56-6.624C955.68 530.656 960 521.6 960 512V224c0-14.336-9.536-26.912-23.328-30.784zM672 800H352c-17.664 0-32-14.304-32-32s14.336-32 32-32h320c17.696 0 32 14.304 32 32s-14.304 32-32 32z"></path>
        </svg>
        <svg id="soloKanbanniangPhoto" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M898.048 258.048q23.552-1.024 46.592 9.216t40.96 27.136 28.672 39.424 10.752 46.08l0 390.144q0 24.576-10.752 47.104t-28.672 40.448-40.96 28.16-47.616 10.24l-697.344 0q-24.576 0-48.64-10.24t-42.496-27.648-29.696-40.448-11.264-48.64l0-381.952q0-22.528 10.752-45.568t28.672-41.472 39.936-30.208 44.544-11.776l63.488 0 13.312-83.968q3.072-20.48 18.432-32.768t34.816-12.288l456.704 0q19.456 0 34.304 10.752t16.896 34.304l14.336 83.968 54.272 0zM548.864 712.704q40.96 0 77.824-15.872t63.488-42.496 42.496-62.976 15.872-77.312-15.872-77.312-42.496-62.976-63.488-42.496-77.824-15.872-77.312 15.872-63.488 42.496-43.008 62.976-15.872 77.312 15.872 77.312 43.008 62.976 63.488 42.496 77.312 15.872z"></path>
        </svg>
        <svg id="soloKanbanniangGithub" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M1024 524.8c0 114.346667-32.554667 217.216-97.706667 308.565333-65.066667 91.306667-149.162667 154.538667-252.288 189.610667-11.989333 2.304-20.778667 0.682667-26.325333-4.778667a27.605333 27.605333 0 0 1-8.362667-20.48v-144.213333c0-44.16-11.52-76.501333-34.645333-97.024 25.344-2.730667 48.085333-6.826667 68.309333-12.288a268.629333 268.629333 0 0 0 62.72-26.666667 187.434667 187.434667 0 0 0 53.973334-45.44c14.421333-18.005333 26.197333-41.898667 35.328-71.765333 9.088-29.824 13.653333-64.128 13.653333-102.826667 0-55.125333-17.536-102.058667-52.650667-140.8 16.426667-41.429333 14.677333-87.893333-5.333333-139.392-12.458667-4.096-30.464-1.578667-54.016 7.509334a355.328 355.328 0 0 0-61.312 30.08L640 271.274667a462.336 462.336 0 0 0-128-17.749334c-43.989333 0-86.656 5.930667-128 17.749334a589.824 589.824 0 0 0-28.330667-18.432c-11.776-7.253333-30.336-16.042667-55.68-26.325334-25.344-10.24-44.416-13.312-57.301333-9.216-19.584 51.498667-21.12 97.962667-4.693333 139.434667-35.114667 38.698667-52.650667 85.632-52.650667 140.757333 0 38.698667 4.565333 72.874667 13.653333 102.485334 9.130667 29.610667 20.778667 53.546667 34.986667 71.765333 14.250667 18.218667 32.128 33.493333 53.674667 45.781333 21.546667 12.288 42.453333 21.205333 62.677333 26.666667 20.224 5.461333 43.008 9.557333 68.309333 12.288-17.749333 16.384-28.629333 39.850667-32.64 70.4a130.005333 130.005333 0 0 1-29.994666 10.24c-10.666667 2.261333-23.338667 3.413333-37.973334 3.413333-14.72 0-29.269333-4.906667-43.690666-14.677333-14.464-9.813333-26.794667-24.064-36.992-42.709333a109.226667 109.226667 0 0 0-32.341334-35.541334c-13.141333-9.130667-24.106667-14.592-33.024-16.426666l-13.312-2.048c-9.344 0-15.786667 1.024-19.328 3.072-3.584 2.090667-4.693333 4.693333-3.328 7.893333 1.28 3.157333 3.328 6.4 5.973334 9.557333 2.688 3.2 5.546667 5.930667 8.661333 8.192l4.693333 3.413334c9.770667 4.565333 19.413333 13.226667 29.013334 25.984 9.514667 12.757333 16.512 24.362667 20.992 34.858666l6.656 15.701334c5.76 17.322667 15.530667 31.317333 29.312 42.026666 13.781333 10.666667 28.672 17.536 44.672 20.48 16 2.986667 31.445333 4.565333 46.336 4.821334 14.890667 0.213333 27.221333-0.597333 36.992-2.389334l15.36-2.730666c0 17.28 0.085333 37.546667 0.298666 60.8l0.341334 36.906666a27.050667 27.050667 0 0 1-8.661334 20.48c-5.76 5.461333-14.677333 7.082667-26.666666 4.778667-103.125333-35.072-187.221333-98.261333-252.330667-189.610667C32.554667 742.058667 0 639.146667 0 524.8c0-95.232 22.869333-183.04 68.693333-263.466667A516.266667 516.266667 0 0 1 254.976 70.4C333.44 23.466667 419.114667 0 512 0c92.885333 0 178.56 23.466667 256.981333 70.4a516.266667 516.266667 0 0 1 186.368 190.976C1001.130667 341.802667 1024 429.653333 1024 524.842667z"></path>
        </svg>
        <svg id="soloKanbanniangClose" viewBox="0 0 1024 1024" width="32" height="32">
            <path d="M517.572566143763 1018.6748601482986C238.26554897656422 1018.6748601482986 11.897910175114305 792.2714997690043 11.897910175114305 513.0002041796496c0-279.3070171671984 226.36763880144977-505.71037754649296 505.6746559686481-505.71037754649296 279.2712955893538 0 505.6746559686481 226.40336037929444 505.6746559686481 505.71037754649296C1023.2472221124112 792.2714997690043 796.8795833109612 1018.6748601482986 517.572566143763 1018.6748601482986zM754.7281214542927 339.25044954334646c13.752807470184345-13.752807470184345 9.680547595895998-40.186775075214015-9.073280772537204-58.94060344364717l-2.143294670678079-2.1075730928334457c-18.7538283684332-18.7538283684332-45.15207439561819-22.861809820566194-58.90488186580257-9.073280772537204l-168.21291007038468 168.24863164822932-180.42968969324974-180.46541127109438c-13.967136937252159-13.967136937252159-40.72259874288353-9.823433907274534-59.72647815622916 9.216167083915742l-2.143294670678079 2.143294670678079c-19.039600991190277 19.003879413345654-23.111860865478626 45.75934121897699-9.180445506071107 59.655035000539876l180.42968969324974 180.46541127109438-176.07165719620428 176.03593561835962c-13.788529048028984 13.824250625873615-9.716269173740633 40.151053497369375 9.073280772537204 58.94060344364717l2.1075730928334457 2.1075730928334457c18.7538283684332 18.7538283684332 45.15207439561819 22.897531398410823 58.90488186580257 9.073280772537204l176.10737877404887-176.10737877404887 170.39192631890742 170.42764789675192c13.967136937252159 13.931415359407513 40.686877165038865 9.85915548511917 59.690756578384516-9.180445506071107l2.1790162485227142-2.1790162485227142c19.039600991190277-18.968157835501014 23.147582443323273-45.72361964113239 9.180445506071107-59.690756578384516l-170.39192631890742-170.42764789675192L754.7281214542927 339.25044954334646z"></path>
        </svg>
    </div>
</div>


<script type="text/javascript">
    Util.addScript('https://cdn.jsdelivr.net/gh/88250/solo@fd76918/src/main/resources/js/page.min.js?1608803069102', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "评论不能为空",
        "oId": "1573185139639",
        "blogHost": "https://cuijianzhe.github.io",
        "randomArticles1Label": "随机阅读：",
        "externalRelevantArticles1Label": "站外相关阅读："
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "5";
        page.loadRandomArticles('<h3>随机阅读</h3>');
        page.loadExternalRelevantArticles("python",
        '<h3>站外相关阅读</h3>');
        page.loadRelevantArticles('1573185139639', '<h3>相关阅读</h3>');
    Skin.initArticle()
    });
</script>

</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 494ms, 2020/12/25 09:37:53 -->